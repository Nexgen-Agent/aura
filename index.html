<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lonz Flawls Aura | Premium Skincare</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #e8dcd1;
            --secondary-color: #a8927a;
            --accent-color: #c4a77d;
            --text-dark: #2c2c2c;
            --text-light: #f8f8f8;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-light);
            overflow-x: hidden;
            background: #0a1929;
            overscroll-behavior: none;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        /* Background Video */
        #background-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
            opacity: 0.8;
        }

        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(10, 25, 41, 0.7) 0%, rgba(10, 25, 41, 0.4) 50%, rgba(10, 25, 41, 0.7) 100%);
            z-index: -1;
        }

        /* Floating Shopping Bag - MOVED UP 400px */
        .floating-cart {
            position: fixed;
            left: 50%;
            top: calc(50% - 400px); /* MOVED UP 400px */
            transform: translate(-50%, -50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
        }

        .floating-cart-container {
            position: relative;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 50%;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition);
        }

        .floating-cart-container:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.2);
        }

        .floating-cart-container i {
            font-size: 24px;
            color: var(--primary-color);
        }

        .floating-cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #dc3545;
            color: white;
            font-size: 12px;
            font-weight: 600;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid rgba(10, 25, 41, 0.9);
        }

        .floating-cart-label {
            font-size: 12px;
            color: var(--text-light);
            background: rgba(10, 25, 41, 0.8);
            padding: 4px 12px;
            border-radius: 15px;
            white-space: nowrap;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .floating-cart-container:hover + .floating-cart-label {
            opacity: 1;
            transform: translateY(0);
        }

        /* Glassmorphism */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            z-index: 10;
        }

        .glass-button {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: var(--text-light);
            padding: 12px 28px;
            border-radius: 50px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .glass-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }

        /* Social Media Buttons */
        .social-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 20px;
            transition: var(--transition);
            margin: 5px;
            text-decoration: none;
            position: relative;
            z-index: 5;
        }

        .social-button.facebook {
            background: linear-gradient(135deg, #1877F2, #0D5FDB);
            color: white;
        }

        .social-button.tiktok {
            background: linear-gradient(135deg, #000000, #25F4EE, #FE2C55);
            color: white;
        }

        .social-button.whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
        }

        .social-button.email {
            background: linear-gradient(135deg, #EA4335, #D14836);
            color: white;
        }

        .social-button.instagram {
            background: linear-gradient(135deg, #E4405F, #C13584, #833AB4, #5851DB, #405DE6);
            color: white;
        }

        .social-button:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        /* Close Buttons */
        .close-button {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: var(--text-light);
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            z-index: 1001;
        }

        .close-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
            color: var(--accent-color);
        }

        /* Navigation - ENLARGED BY 50% (from 80px to 120px) */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 45px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            transition: var(--transition);
            touch-action: pan-y;
            background: rgba(10, 25, 41, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            height: 120px; /* Increased by 50% from 80px */
        }

        nav.scrolled {
            background: rgba(10, 25, 41, 0.95);
            backdrop-filter: blur(20px);
            padding: 32px 40px;
            height: 90px; /* Increased by 50% from 60px */
        }

        .logo {
            font-family: 'Cormorant Garamond', serif;
            font-size: 35.2px; /* Increased by 5px from search button (30.2px) */
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            white-space: nowrap;
            flex-shrink: 0;
            line-height: 1; /* Prevent text overflow */
        }

        .logo i {
            color: var(--accent-color);
            font-size: 35.2px; /* Increased logo icon size */
        }

        .nav-links {
            display: flex;
            gap: 32px;
        }

        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            font-size: 18.2px;
            transition: var(--transition);
            position: relative;
            padding: 8px 0;
            white-space: nowrap;
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .nav-links a:after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--primary-color);
            transition: var(--transition);
        }

        .nav-links a:hover:after {
            width: 100%;
        }

        /* Enhanced Search Container - NEW DESIGN */
        .search-container {
            position: relative;
            display: flex;
            align-items: center;
            margin-right: 15px; /* Reduced margin to fit better */
        }

        .search-input {
            width: 0;
            opacity: 0;
            padding: 0;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            border-radius: 20px;
            transition: all 0.3s ease;
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            font-size: 16.8px;
            z-index: 1002;
        }

        .search-input.active {
            width: 300px;
            opacity: 1;
            padding: 16.8px 45px 16.8px 20px;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
        }

        .search-icon {
            font-size: 30.2px; /* Base size for search button */
            cursor: pointer;
            transition: var(--transition);
            padding: 8px;
            z-index: 2;
        }

        .search-icon:hover {
            color: var(--primary-color);
        }

        .search-close {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            cursor: pointer;
            opacity: 0;
            transition: var(--transition);
            z-index: 3;
            font-size: 16.8px;
            padding: 5px;
        }

        .search-close.active {
            opacity: 1;
        }

        .nav-icons {
            display: flex;
            gap: 15px; /* Reduced gap from 25px to fit better */
            align-items: center;
            position: relative;
        }

        .nav-icons i {
            font-size: 30.2px; /* Increased to match new proportions */
            cursor: pointer;
            transition: var(--transition);
        }

        .nav-icons i:hover {
            color: var(--primary-color);
            transform: translateY(-2px);
        }

        .mobile-menu-btn {
            display: none;
            font-size: 33.6px;
            cursor: pointer;
            padding: 8px;
            margin-left: 10px; /* Reduced margin */
            transition: var(--transition);
        }

        .mobile-menu-btn.active {
            color: var(--accent-color);
        }

        .mobile-menu-btn.active i {
            transform: rotate(90deg);
        }

        /* Enhanced Search Results - NEW DESIGN */
        .search-results {
            position: absolute;
            top: 100%;
            right: 0;
            width: 400px;
            max-height: 70vh;
            overflow-y: auto;
            background: rgba(10, 25, 41, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            display: none;
            z-index: 1001;
            margin-top: 10px;
            padding: 20px;
        }

        .search-results.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        /* Top Searched Products Section */
        .top-searched-section {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .top-searched-section h5 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .top-searched-section h5 i {
            color: var(--accent-color);
        }

        .top-searched-products {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .top-searched-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .top-searched-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .top-searched-item img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 8px;
        }

        .top-searched-info h6 {
            font-size: 14px;
            color: var(--primary-color);
            margin-bottom: 3px;
        }

        .top-searched-price {
            font-size: 12px;
            color: var(--accent-color);
            font-weight: 600;
        }

        /* Search Suggestions */
        .search-suggestions {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .search-suggestions h5 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-suggestions h5 i {
            color: var(--accent-color);
        }

        .suggestions-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .suggestion-tag {
            background: rgba(196, 167, 125, 0.15);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid rgba(196, 167, 125, 0.2);
        }

        .suggestion-tag:hover {
            background: rgba(196, 167, 125, 0.3);
            transform: translateY(-2px);
        }

        /* Search Results Items */
        .search-results-list {
            margin-top: 15px;
        }

        .search-results-list h5 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 14px;
        }

        .search-result-item {
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
            border: 1px solid transparent;
        }

        .search-result-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--glass-border);
        }

        .search-result-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 10px;
            flex-shrink: 0;
        }

        .search-result-info {
            flex: 1;
            min-width: 0;
        }

        .search-result-info h4 {
            color: var(--primary-color);
            margin-bottom: 5px;
            font-size: 16px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .search-result-info p {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .search-result-price {
            color: var(--accent-color);
            font-weight: 600;
            font-size: 14px;
        }

        .search-result-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 5px;
        }

        .search-result-tag {
            background: rgba(255, 255, 255, 0.1);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 10px;
        }

        .no-results {
            padding: 30px;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Search categories */
        .search-categories {
            margin-bottom: 15px;
        }

        .search-categories h5 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 14px;
        }

        .category-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .category-tab {
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: var(--transition);
        }

        .category-tab.active {
            background: rgba(196, 167, 125, 0.3);
            color: var(--primary-color);
        }

        /* Mobile Menu Overlay */
        .mobile-menu-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .mobile-menu-overlay.active {
            display: block;
            opacity: 1;
        }

        .mobile-nav-links {
            position: fixed;
            top: 0;
            right: 0;
            width: 300px;
            height: 100%;
            background: rgba(10, 25, 41, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
            padding: 150px 30px 30px; /* Increased padding for larger nav */
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1000;
            border-left: 1px solid var(--glass-border);
        }

        .mobile-nav-links.active {
            transform: translateX(0);
        }

        .mobile-nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-size: 18px;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        .mobile-nav-links a:hover {
            color: var(--primary-color);
            padding-left: 10px;
        }

        .mobile-menu-close {
            position: absolute;
            top: 55px; /* Adjusted for larger nav */
            right: 25px;
            font-size: 28px;
            color: var(--text-light);
            cursor: pointer;
            transition: var(--transition);
            z-index: 1001;
        }

        .mobile-menu-close:hover {
            color: var(--accent-color);
            transform: rotate(90deg);
        }

        /* Full Screen Search Overlay (TikTok Style) */
        .search-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 25, 41, 0.98);
            backdrop-filter: blur(20px);
            z-index: 9999;
            display: none;
            flex-direction: column;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .search-overlay.active {
            display: flex;
            opacity: 1;
        }

        .search-header {
            padding: 30px 20px; /* Increased padding */
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .search-back-btn {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 28px; /* Increased size */
            cursor: pointer;
            padding: 5px;
        }

        .search-overlay-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 25px;
            padding: 18px 20px; /* Increased padding */
            color: var(--text-light);
            font-size: 18px; /* Increased font size */
            outline: none;
        }

        .search-overlay-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-overlay-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .search-overlay-results {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Main Content - Adjusted for larger nav */
        .main-content {
            padding-top: 180px; /* Increased from 140px for larger nav */
            position: relative;
            z-index: 1;
        }

        section {
            min-height: 100vh;
            padding: 80px 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            z-index: 2;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding-top: 150px;
        }

        .hero h1 {
            font-size: 4.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            line-height: 1.1;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 40px;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        /* Social Links Section */
        .social-section {
            text-align: center;
            padding: 40px 20px;
            margin-top: 40px;
        }

        .social-section h3 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 30px;
        }

        .social-links-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        /* Lead Qualification Wizard */
        .lead-wizard {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            margin-top: 40px;
            position: relative;
        }

        .wizard-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .wizard-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .wizard-title h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .wizard-title p {
            color: rgba(255, 255, 255, 0.8);
        }

        .wizard-content {
            min-height: 300px;
        }

        .wizard-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .wizard-step.active {
            display: block;
        }

        .wizard-step h4 {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--primary-color);
        }

        .option-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .option-item {
            padding: 18px 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 12px;
        }

        .option-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px);
        }

        .option-item.selected {
            background: rgba(196, 167, 125, 0.2);
            border-color: var(--accent-color);
        }

        .option-item i {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--accent-color);
        }

        .wizard-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }

        .wizard-progress {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-top: 30px;
            overflow: hidden;
        }

        .wizard-progress-bar {
            height: 100%;
            background: var(--accent-color);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Section Headers */
        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-header h2 {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .section-header p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }

        /* Products */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .product-card {
            padding: 25px;
            transition: var(--transition);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.15);
        }

        .product-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-recommended {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
            border: 1px solid rgba(40, 167, 69, 0.3);
        }

        .badge-bestseller {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }

        .badge-flagship {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
            border: 1px solid rgba(220, 53, 69, 0.3);
        }

        .product-image {
            height: 200px;
            width: 100%;
            object-fit: contain;
            background-position: center;
            background-repeat: no-repeat;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        .product-info {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            min-height: 220px;
        }

        .product-info h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .product-info p {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .product-price {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .product-price span {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: line-through;
            margin-left: 10px;
        }

        /* Product details */
        .product-details {
            margin-top: 10px;
            font-size: 0.9rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .product-details.expanded {
            max-height: 500px;
            overflow-y: auto;
        }

        .product-benefits, .product-usage, .product-ingredients {
            margin-bottom: 10px;
        }

        .product-benefits strong, .product-usage strong, .product-ingredients strong {
            color: var(--accent-color);
            display: block;
            margin-bottom: 5px;
        }

        .see-more-btn {
            background: transparent;
            border: none;
            color: var(--accent-color);
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: auto;
            padding: 5px 10px;
            border-radius: 4px;
            transition: var(--transition);
            align-self: flex-start;
        }

        .see-more-btn:hover {
            background: rgba(196, 167, 125, 0.1);
        }

        /* Gallery */
        .gallery-container {
            overflow: hidden;
            position: relative;
            padding: 20px 0;
            z-index: 5;
        }

        .gallery-track {
            display: flex;
            gap: 25px;
            padding: 20px;
            transition: transform 0.5s ease;
        }

        .gallery-slide {
            min-width: 300px;
            height: 400px;
            border-radius: 16px;
            overflow: hidden;
            position: relative;
            transition: var(--transition);
        }

        .gallery-slide:hover {
            transform: scale(1.03);
        }

        .gallery-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .gallery-slide:hover img {
            transform: scale(1.1);
        }

        .gallery-nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        .gallery-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: var(--transition);
        }

        .gallery-dot.active {
            background: var(--accent-color);
            transform: scale(1.2);
        }

        /* Footer */
        footer {
            padding: 60px 40px 30px;
            background: rgba(10, 25, 41, 0.9);
            backdrop-filter: blur(10px);
            margin-top: 60px;
            position: relative;
            z-index: 10;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h4 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .footer-column p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--primary-color);
            padding-left: 5px;
        }

        .newsletter-form {
            display: flex;
            margin-top: 15px;
        }

        .newsletter-form input {
            flex-grow: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 50px 0 0 50px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .newsletter-form button {
            border-radius: 0 50px 50px 0;
            padding: 0 25px;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0) translateX(-50%); }
            40% { transform: translateY(-10px) translateX(-50%); }
            60% { transform: translateY(-5px) translateX(-50%); }
        }

        /* Cart Modal - CLEANER DESIGN */
        .cart-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .cart-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .cart-content {
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 40px;
            position: relative;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .cart-header h3 {
            font-size: 2rem;
            color: var(--primary-color);
        }

        .cart-items {
            margin-bottom: 30px;
        }

        /* Cleaner Cart Item Design */
        .cart-item {
            display: grid;
            grid-template-columns: 80px 1fr auto;
            align-items: center;
            padding: 20px;
            margin-bottom: 15px;
            gap: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        .cart-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border: 1px solid var(--glass-border);
        }

        .cart-item-info {
            min-width: 0;
        }

        .cart-item-info h4 {
            font-size: 1.2rem;
            margin-bottom: 8px;
            color: var(--primary-color);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .cart-item-price {
            font-weight: 600;
            color: var(--accent-color);
            font-size: 1.1rem;
            margin-bottom: 10px;
            display: block;
        }

        .cart-item-actions {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 15px;
            min-width: 120px;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: flex-end;
        }

        .quantity-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            color: var(--text-light);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .quantity-btn:hover {
            background: var(--accent-color);
            transform: scale(1.1);
        }

        .quantity {
            min-width: 40px;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .remove-item {
            background: rgba(220, 53, 69, 0.2);
            border: 1px solid rgba(220, 53, 69, 0.3);
            color: #ff6b6b;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .remove-item:hover {
            background: rgba(220, 53, 69, 0.3);
            transform: translateY(-2px);
            color: #ff4757;
        }

        .cart-empty {
            text-align: center;
            padding: 60px 40px;
        }

        .cart-empty i {
            font-size: 80px;
            color: rgba(255, 255, 255, 0.2);
            margin-bottom: 20px;
        }

        .cart-empty h4 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .cart-empty p {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 30px;
        }

        .cart-summary {
            padding: 25px;
            margin-top: 20px;
            border-top: 1px solid var(--glass-border);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
        }

        .summary-row:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .summary-row.total {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary-color);
            padding-top: 15px;
            border-top: 1px solid var(--glass-border);
            margin-top: 10px;
        }

        /* Checkout Modal */
        .checkout-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .checkout-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .checkout-content {
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 40px;
            position: relative;
        }

        .checkout-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .checkout-header h3 {
            font-size: 2rem;
            color: var(--primary-color);
        }

        .checkout-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            position: relative;
        }

        .checkout-steps:before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--glass-border);
            z-index: 1;
        }

        .checkout-step {
            position: relative;
            z-index: 2;
            text-align: center;
            flex: 1;
        }

        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: 600;
            transition: var(--transition);
        }

        .checkout-step.active .step-number {
            background: var(--accent-color);
            border-color: var(--accent-color);
        }

        .checkout-step.completed .step-number {
            background: #28a745;
            border-color: #28a745;
        }

        .step-title {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .checkout-step.active .step-title {
            color: var(--primary-color);
            font-weight: 500;
        }

        .checkout-form {
            display: none;
        }

        .checkout-form.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .checkout-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .payment-method {
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .payment-method:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .payment-method.selected {
            background: rgba(196, 167, 125, 0.2);
            border-color: var(--accent-color);
        }

        .payment-method i {
            font-size: 32px;
            margin-bottom: 10px;
            color: var(--accent-color);
        }

        .checkout-review {
            padding: 20px;
            margin-bottom: 30px;
        }

        .review-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--glass-border);
        }

        /* Success Modal - FIXED BUTTON SPACING */
        .success-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .success-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .success-content {
            width: 90%;
            max-width: 500px;
            padding: 40px;
            text-align: center;
            position: relative;
        }

        .success-icon {
            font-size: 80px;
            color: #28a745;
            margin-bottom: 30px;
            animation: bounce 2s infinite;
        }

        .success-message h3 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .success-message p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Success Modal Button Container - FIXED SPACING */
        .success-button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
            width: 100%;
        }

        .success-button-container .glass-button {
            flex: 1;
            min-width: 200px;
            max-width: 250px;
            margin: 0 !important;
        }

        /* Results Modal - UPDATED LAYOUT */
        .results-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            padding: 120px 20px 40px;
            overflow-y: auto;
        }

        .results-modal.active {
            opacity: 1;
            visibility: visible;
        }

        /* Affirmations Section - FREE STANDING LIKE HERO */
        .affirmations-section {
            text-align: center;
            width: 100%;
            max-width: 900px;
            margin-bottom: 40px;
            position: relative;
            z-index: 10;
        }

        .affirmations-section .result-icon {
            font-size: 60px;
            color: var(--accent-color);
            margin-bottom: 20px;
        }

        .affirmations-section .result-message {
            text-align: center;
        }

        .affirmations-section .result-message h3 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .affirmations-section .result-message p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: rgba(255, 255, 255, 0.9);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Results Products Section - NOW IN GLASS CARD */
        .results-products-section {
            width: 100%;
            max-width: 1200px;
            position: relative;
            z-index: 10;
        }

        .results-products-container {
            padding: 40px;
            position: relative;
        }

        /* Close button for results modal */
        .results-modal .close-button {
            position: fixed;
            top: 140px;
            right: 40px;
            z-index: 2001;
        }

        /* Personalized Products Container - NOW USING PRODUCT CARD STYLE */
        .personalized-products-container {
            margin-top: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        /* Product cards in personalized recommendations - SAME AS ALL PRODUCTS SECTION */
        .personalized-products-container .product-card {
            padding: 25px;
            transition: var(--transition);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .personalized-products-container .product-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.15);
        }

        .personalized-products-container .product-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .personalized-products-container .product-image {
            height: 200px;
            width: 100%;
            object-fit: contain;
            background-position: center;
            background-repeat: no-repeat;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        .personalized-products-container .product-info {
            flex-grow: 1;
        }

        .personalized-products-container .product-info h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .personalized-products-container .product-info p {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .personalized-products-container .product-price {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .personalized-products-container .product-details {
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .personalized-products-container .product-benefits,
        .personalized-products-container .product-usage,
        .personalized-products-container .product-ingredients {
            margin-bottom: 10px;
        }

        .personalized-products-container .product-benefits strong,
        .personalized-products-container .product-usage strong,
        .personalized-products-container .product-ingredients strong {
            color: var(--accent-color);
            display: block;
            margin-bottom: 5px;
        }

        /* Special combo card styling */
        .personalized-products-container .product-card.combo-card {
            border: 2px solid var(--accent-color);
            background: rgba(196, 167, 125, 0.1);
        }

        .personalized-products-container .product-card.combo-card .product-badge {
            background: rgba(40, 167, 69, 0.3);
            color: #28a745;
            border: 1px solid rgba(40, 167, 69, 0.5);
        }

        .result-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Authentication Modal */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .auth-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .auth-content {
            width: 90%;
            max-width: 500px;
            padding: 40px;
            text-align: center;
            position: relative;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--glass-border);
        }

        .auth-tab {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 2px solid transparent;
        }

        .auth-tab.active {
            color: var(--primary-color);
            border-bottom: 2px solid var(--accent-color);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 14px 18px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            color: var(--text-light);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-color);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 20px rgba(196, 167, 125, 0.2);
        }

        .form-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .form-checkbox input {
            width: 18px;
            height: 18px;
        }

        .form-checkbox label {
            margin-bottom: 0;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .forgot-password {
            display: block;
            text-align: right;
            margin-top: 5px;
            color: var(--accent-color);
            text-decoration: none;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        .auth-footer {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid var(--glass-border);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .auth-footer a {
            color: var(--accent-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .auth-footer a:hover {
            text-decoration: underline;
        }

        /* FLAGSHIP PRODUCT SPECIFIC STYLES */
        .flagship-card {
            grid-column: span 2 !important;
        }

        .flagship-container {
            display: flex;
            gap: 30px;
            align-items: flex-start;
        }

        .flagship-image {
            flex: 1;
            height: 300px;
            object-fit: contain;
            border-radius: 10px;
            min-width: 0;
        }

        .flagship-info {
            flex: 1;
            min-width: 0;
        }

        .flagship-details {
            margin-top: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .flagship-details.collapsed {
            max-height: 80px;
        }

        .flagship-details.expanded {
            max-height: 500px;
        }

        /* Address Selection Styles - NEW */
        .address-selection-container {
            margin-bottom: 20px;
        }

        .address-step {
            margin-bottom: 20px;
            display: none;
        }

        .address-step.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .address-progress {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--glass-border);
        }

        .address-progress-step {
            display: flex;
            align-items: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
        }

        .address-progress-step.active {
            color: var(--primary-color);
        }

        .address-progress-step.completed {
            color: var(--accent-color);
        }

        .address-progress-step .step-number {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            font-size: 12px;
        }

        .address-progress-step.active .step-number {
            background: var(--accent-color);
            border-color: var(--accent-color);
        }

        .address-progress-step.completed .step-number {
            background: #28a745;
            border-color: #28a745;
        }

        .address-progress-separator {
            width: 30px;
            height: 1px;
            background: rgba(255, 255, 255, 0.2);
            margin: 0 10px;
        }

        .address-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .address-option {
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .address-option:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-3px);
        }

        .address-option.selected {
            background: rgba(196, 167, 125, 0.2);
            border-color: var(--accent-color);
        }

        .address-option i {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--accent-color);
        }

        .address-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        .address-confirmation {
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            margin-top: 20px;
        }

        .address-confirmation h5 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 16px;
        }

        .address-details {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            line-height: 1.6;
        }

        /* Google Maps Integration */
        .google-maps-container {
            height: 200px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 20px;
            position: relative;
        }

        .google-maps-placeholder {
            height: 100%;
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.6);
        }

        .google-maps-placeholder i {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--accent-color);
        }

        .google-maps-placeholder p {
            font-size: 14px;
            max-width: 300px;
            text-align: center;
        }

        .address-search {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .address-search-input {
            flex: 1;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-light);
        }

        .address-search-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        /* ZIP Code Validation */
        .zip-validation {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
            font-size: 14px;
        }

        .zip-validation.valid {
            color: #28a745;
        }

        .zip-validation.invalid {
            color: #dc3545;
        }

        /* NEW: VERTICAL COLLECTION STYLES */
        .vertical-collection {
            position: relative;
            margin: 40px 0;
            padding: 20px 0;
        }

        .collection-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 0 20px;
        }

        .collection-header h3 {
            font-size: 2.2rem;
            color: var(--primary-color);
            margin: 0;
        }

        .collection-nav {
            display: flex;
            gap: 10px;
        }

        .nav-arrow {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: var(--text-light);
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .nav-arrow:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        .nav-arrow.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .nav-arrow.disabled:hover {
            background: var(--glass-bg);
            transform: none;
        }

        .vertical-track-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding: 10px 0;
        }

        .vertical-track {
            display: flex;
            gap: 30px;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            padding: 0 20px;
            touch-action: pan-y;
        }

        .vertical-card {
            min-width: 300px;
            flex-shrink: 0;
            height: 500px;
        }

        .vertical-card .product-card {
            height: 100%;
            position: relative;
        }

        .vertical-card .product-info {
            min-height: 180px;
        }

        /* Responsive */
        @media (max-width: 1100px) {
            .nav-links {
                gap: 24px;
            }
            
            .logo {
                font-size: 32px; /* Adjusted for responsive */
            }
            
            .search-input.active {
                width: 280px;
            }
            
            .address-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 992px) {
            .hero h1 {
                font-size: 3.5rem;
            }
            
            .section-header h2 {
                font-size: 2.5rem;
            }
            
            .option-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .search-input.active {
                width: 240px;
            }
            
            .search-results {
                width: 350px;
            }
            
            .nav-links a {
                padding: 10px 0;
            }
            
            .glass-button {
                padding: 15px 30px;
                min-height: 50px;
            }
            
            .nav-icons {
                gap: 15px; /* Maintain reduced gap */
            }
            
            .flagship-card {
                grid-column: span 1 !important;
            }
            
            .flagship-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .flagship-image {
                height: 200px;
                width: 100%;
            }
            
            .flagship-details.collapsed {
                max-height: 60px;
            }
            
            .address-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 850px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .logo {
                font-size: 28px; /* Adjusted for mobile */
            }
            
            .search-input.active {
                width: 220px;
            }
            
            /* Adjust nav for mobile with 50% increase */
            nav {
                padding: 38px 20px; /* Adjusted for mobile */
                height: 105px; /* 70px * 1.5 = 105px */
            }
            
            nav.scrolled {
                padding: 28px 20px; /* Adjusted for mobile */
                height: 75px; /* 50px * 1.5 = 75px */
            }
            
            /* Flagship product mobile adjustments */
            .flagship-card {
                grid-column: span 1 !important;
            }
            
            .flagship-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .flagship-image {
                height: 200px;
                width: 100%;
            }
            
            .flagship-details.collapsed {
                max-height: 60px;
            }
            
            /* Results modal mobile */
            .personalized-products-container {
                grid-template-columns: 1fr;
            }
            
            .affirmations-section .result-message h3 {
                font-size: 1.8rem;
            }
            
            .affirmations-section .result-message p {
                font-size: 1rem;
            }
            
            .results-modal .close-button {
                top: 120px;
                right: 20px;
            }
            
            .address-options {
                grid-template-columns: 1fr;
            }
            
            .address-progress {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .address-progress-separator {
                display: none;
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 38px 20px;
                height: 105px; /* 70px * 1.5 = 105px */
            }
            
            nav.scrolled {
                padding: 28px 20px;
                height: 75px; /* 50px * 1.5 = 75px */
            }
            
            .logo {
                font-size: 24px; /* Adjusted for smaller mobile */
            }
            
            /* Hide desktop search input on mobile */
            .search-input.active {
                display: none;
            }
            
            .search-results {
                display: none !important;
            }
            
            section {
                padding: 80px 20px;
            }
            
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .glass-button {
                width: 100%;
                max-width: 300px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .gallery-slide {
                min-width: 250px;
                height: 350px;
            }
            
            .lead-wizard {
                padding: 25px;
            }
            
            .gallery-slide, .option-item, .product-card {
                touch-action: pan-y;
            }
            
            .nav-icons {
                gap: 12px; /* Further reduced for mobile */
            }
            
            .mobile-menu-btn {
                margin-left: 8px; /* Reduced margin */
                font-size: 28px; /* Adjusted size */
            }
            
            /* Floating cart for mobile */
            .floating-cart {
                left: auto;
                right: 20px;
                top: auto;
                bottom: 20px;
                transform: none;
            }
            
            .floating-cart-container {
                width: 50px;
                height: 50px;
            }
            
            .floating-cart-container i {
                font-size: 20px;
            }
            
            .floating-cart-label {
                display: none;
            }
            
            .main-content {
                padding-top: 135px; /* Increased for larger mobile nav */
            }
            
            /* Cart items responsive */
            .cart-item {
                grid-template-columns: 60px 1fr;
                gap: 15px;
                padding: 15px;
            }
            
            .cart-item-image {
                width: 60px;
                height: 60px;
            }
            
            .cart-item-actions {
                grid-column: span 2;
                flex-direction: row;
                justify-content: space-between;
                width: 100%;
                min-width: auto;
            }
            
            .remove-item {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
            
            /* Results Modal Responsive */
            .results-modal {
                padding: 100px 10px 20px;
            }
            
            .affirmations-section .result-icon {
                font-size: 50px;
            }
            
            .affirmations-section .result-message h3 {
                font-size: 1.6rem;
            }
            
            .affirmations-section .result-message p {
                font-size: 0.95rem;
            }
            
            .results-products-container {
                padding: 20px;
            }
            
            .personalized-products-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .result-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .result-actions .glass-button {
                width: 100%;
                max-width: 300px;
                margin-left: 0 !important;
                margin-bottom: 10px;
            }
            
            /* Success Modal Button Container - MOBILE FIX */
            .success-button-container {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            
            .success-button-container .glass-button {
                width: 100%;
                max-width: 300px;
                margin-left: 0 !important;
                margin-bottom: 0;
            }
            
            .results-modal .close-button {
                top: 110px;
                right: 15px;
                width: 35px;
                height: 35px;
                font-size: 18px;
            }
            
            /* Address selection mobile */
            .address-navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .address-navigation .glass-button {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 20px; /* Minimum size to prevent overflow */
            }
            
            .nav-icons {
                gap: 8px; /* Minimum gap */
            }
            
            .search-results {
                padding: 15px;
            }
            
            .top-searched-item {
                padding: 8px;
            }
            
            .top-searched-item img {
                width: 40px;
                height: 40px;
            }
            
            .suggestion-tag {
                font-size: 11px;
                padding: 5px 10px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            /* Further adjust nav for very small screens */
            nav {
                padding: 35px 15px;
                height: 100px;
            }
            
            nav.scrolled {
                padding: 25px 15px;
                height: 70px;
            }
            
            .flagship-image {
                height: 180px;
            }
            
            /* Success Modal Button Container - SMALL MOBILE */
            .success-button-container {
                gap: 12px;
            }
            
            .success-button-container .glass-button {
                min-width: 100%;
                max-width: 100%;
                padding: 14px 20px;
            }
            
            /* Results modal small mobile */
            .affirmations-section .result-message h3 {
                font-size: 1.4rem;
            }
            
            .affirmations-section .result-message p {
                font-size: 0.9rem;
            }
            
            .results-products-container {
                padding: 15px;
            }
            
            /* Address selection small mobile */
            .address-progress-step {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Cart - MOVED UP 400px -->
    <div class="floating-cart" id="floatingCart">
        <div class="floating-cart-container" id="floatingCartBtn">
            <i class="fas fa-shopping-bag"></i>
            <div class="floating-cart-badge" id="floatingCartBadge">0</div>
        </div>
        <div class="floating-cart-label">Your Bag</div>
    </div>

    <!-- Background Video -->
    <video autoplay muted loop id="background-video">
        <source src="https://assets.mixkit.co/videos/preview/mixkit-ripples-on-the-surface-of-a-lake-4099-large.mp4" type="video/mp4">
    </video>
    <div class="video-overlay"></div>

    <!-- Search Overlay (TikTok Style) -->
    <div class="search-overlay" id="searchOverlay">
        <div class="search-header">
            <button class="search-back-btn" id="searchBackBtn">
                <i class="fas fa-arrow-left"></i>
            </button>
            <input type="text" class="search-overlay-input" id="searchOverlayInput" placeholder="Search products or skin issues...">
        </div>
        <div class="search-overlay-content">
            <div class="search-overlay-results" id="searchOverlayResults">
                <!-- Content will be populated dynamically -->
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-content glass-card">
            <button class="close-button" id="closeAuth">&times;</button>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Login</button>
                <button class="auth-tab" data-tab="signup">Sign Up</button>
            </div>
            
            <!-- Login Form -->
            <form class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email Address</label>
                    <input type="email" id="loginEmail" class="form-input" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" class="form-input" placeholder="Enter your password" required>
                    <a href="#" class="forgot-password">Forgot Password?</a>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Remember me</label>
                </div>
                
                <button type="submit" class="glass-button" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
                
                <div class="auth-footer">
                    Don't have an account? <a href="#" class="switch-to-signup">Sign up here</a>
                </div>
            </form>
            
            <!-- Sign Up Form -->
            <form class="auth-form" id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" class="form-input" placeholder="Enter your full name" required>
                </div>
                
                <div class="form-group">
                    <label for="signupEmail">Email Address</label>
                    <input type="email" id="signupEmail" class="form-input" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" class="form-input" placeholder="Create a password" required>
                </div>
                
                <div class="form-group">
                    <label for="signupConfirmPassword">Confirm Password</label>
                    <input type="password" id="signupConfirmPassword" class="form-input" placeholder="Confirm your password" required>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="agreeTerms" required>
                    <label for="agreeTerms">I agree to the Terms & Conditions and Privacy Policy</label>
                </div>
                
                <button type="submit" class="glass-button" style="width: 100%;">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
                
                <div class="auth-footer">
                    Already have an account? <a href="#" class="switch-to-login">Login here</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Cart Modal - CLEANER DESIGN -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-content glass-card">
            <button class="close-button" id="closeCart">&times;</button>
            <div class="cart-header">
                <h3>Your Shopping Bag</h3>
            </div>
            
            <div class="cart-items" id="cartItems">
                <div class="cart-empty">
                    <i class="fas fa-shopping-bag"></i>
                    <h4>Your bag is empty</h4>
                    <p>Add some products to get started!</p>
                    <button class="glass-button" onclick="document.querySelector('#all-products').scrollIntoView({behavior: 'smooth'})">
                        <i class="fas fa-store"></i> Browse Products
                    </button>
                </div>
            </div>
            
            <div class="cart-summary glass-card" id="cartSummary" style="display: none;">
                <div class="summary-row">
                    <span>Subtotal</span>
                    <span id="cartSubtotal">R0.00</span>
                </div>
                <div class="summary-row">
                    <span>Shipping</span>
                    <span id="cartShipping">R50.00</span>
                </div>
                <div class="summary-row">
                    <span>Tax</span>
                    <span id="cartTax">R0.00</span>
                </div>
                <div class="summary-row total">
                    <span>Total</span>
                    <span id="cartTotal">R0.00</span>
                </div>
                
                <button class="glass-button" style="width: 100%; margin-top: 20px;" id="checkoutBtn">
                    <i class="fas fa-lock"></i> Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkoutModal">
        <div class="checkout-content glass-card">
            <button class="close-button" id="closeCheckout">&times;</button>
            <div class="checkout-header">
                <h3>Checkout</h3>
            </div>
            
            <div class="checkout-steps">
                <div class="checkout-step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-title">Shipping</div>
                </div>
                <div class="checkout-step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-title">Payment</div>
                </div>
                <div class="checkout-step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-title">Review</div>
                </div>
            </div>
            
            <!-- Step 1: Shipping - UPDATED WITH NEW ADDRESS SELECTION SYSTEM -->
            <form class="checkout-form active" id="shippingForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="shippingFirstName">First Name</label>
                        <input type="text" id="shippingFirstName" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="shippingLastName">Last Name</label>
                        <input type="text" id="shippingLastName" class="form-input" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="shippingEmail">Email Address</label>
                    <input type="email" id="shippingEmail" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="shippingPhone">Phone Number</label>
                    <input type="tel" id="shippingPhone" class="form-input" required>
                </div>
                
                <!-- NEW ADDRESS SELECTION SYSTEM -->
                <div class="address-selection-container">
                    <div class="address-progress">
                        <div class="address-progress-step active" data-step="country">
                            <div class="step-number">1</div>
                            Country
                        </div>
                        <div class="address-progress-separator"></div>
                        <div class="address-progress-step" data-step="state">
                            <div class="step-number">2</div>
                            State/Province
                        </div>
                        <div class="address-progress-separator"></div>
                        <div class="address-progress-step" data-step="city">
                            <div class="step-number">3</div>
                            City/Town
                        </div>
                        <div class="address-progress-separator"></div>
                        <div class="address-progress-step" data-step="village">
                            <div class="step-number">4</div>
                            Village/Suburb
                        </div>
                        <div class="address-progress-separator"></div>
                        <div class="address-progress-step" data-step="zip">
                            <div class="step-number">5</div>
                            ZIP Code
                        </div>
                    </div>
                    
                    <!-- Country Selection -->
                    <div class="address-step active" id="countryStep">
                        <h4 style="color: var(--primary-color); margin-bottom: 20px;">Select Your Country</h4>
                        <div class="address-options" id="countryOptions">
                            <!-- Country options will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- State/Province Selection -->
                    <div class="address-step" id="stateStep">
                        <h4 style="color: var(--primary-color); margin-bottom: 20px;">Select Your State/Province</h4>
                        <div class="address-search">
                            <input type="text" class="address-search-input" id="stateSearch" placeholder="Search for your state/province...">
                            <button type="button" class="glass-button" style="padding: 12px 20px;" onclick="searchStates()">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        <div class="address-options" id="stateOptions">
                            <!-- State options will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- City/Town Selection -->
                    <div class="address-step" id="cityStep">
                        <h4 style="color: var(--primary-color); margin-bottom: 20px;">Select Your City/Town</h4>
                        <div class="address-search">
                            <input type="text" class="address-search-input" id="citySearch" placeholder="Search for your city/town...">
                            <button type="button" class="glass-button" style="padding: 12px 20px;" onclick="searchCities()">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        <div class="address-options" id="cityOptions">
                            <!-- City options will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Village/Suburb Selection -->
                    <div class="address-step" id="villageStep">
                        <h4 style="color: var(--primary-color); margin-bottom: 20px;">Select Your Village/Suburb</h4>
                        <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: 15px; font-size: 14px;">Select your village or suburb for precise delivery</p>
                        <div class="address-search">
                            <input type="text" class="address-search-input" id="villageSearch" placeholder="Search for your village/suburb...">
                            <button type="button" class="glass-button" style="padding: 12px 20px;" onclick="searchVillages()">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        <div class="address-options" id="villageOptions">
                            <!-- Village options will be populated by JavaScript -->
                        </div>
                        <div class="address-options" style="margin-top: 15px;">
                            <div class="address-option" onclick="skipVillage()">
                                <i class="fas fa-forward"></i>
                                <p>Skip this step</p>
                                <small style="color: rgba(255, 255, 255, 0.6);">I don't have a village/suburb</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ZIP Code Entry -->
                    <div class="address-step" id="zipStep">
                        <h4 style="color: var(--primary-color); margin-bottom: 20px;">Enter Your ZIP/Postal Code</h4>
                        <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: 20px; font-size: 14px;">Enter your ZIP code for accurate shipping calculation</p>
                        
                        <div class="form-group">
                            <label for="shippingZip">ZIP/Postal Code</label>
                            <input type="text" id="shippingZip" class="form-input" placeholder="Enter ZIP code" required>
                            <div class="zip-validation" id="zipValidation">
                                <!-- Validation message will appear here -->
                            </div>
                        </div>
                        
                        <!-- Google Maps Integration -->
                        <div class="google-maps-container">
                            <div class="google-maps-placeholder">
                                <i class="fas fa-map-marked-alt"></i>
                                <p>Google Maps integration for address verification</p>
                                <small style="margin-top: 10px;">Your address will be verified for shipping accuracy</small>
                            </div>
                        </div>
                        
                        <!-- Address Confirmation -->
                        <div class="address-confirmation" id="addressConfirmation">
                            <h5>Selected Address</h5>
                            <div class="address-details" id="addressDetails">
                                <!-- Address details will appear here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Address Navigation -->
                    <div class="address-navigation">
                        <button type="button" class="glass-button" id="prevAddressStep" style="display: none;">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <button type="button" class="glass-button" id="nextAddressStep">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Street Address -->
                <div class="form-group">
                    <label for="shippingAddress">Street Address</label>
                    <input type="text" id="shippingAddress" class="form-input" placeholder="House number, street name, building" required>
                </div>
                
                <!-- Apartment/Suite (Optional) -->
                <div class="form-group">
                    <label for="shippingApartment">Apartment, Suite, Unit (Optional)</label>
                    <input type="text" id="shippingApartment" class="form-input" placeholder="Apartment, suite, unit, etc.">
                </div>
                
                <div class="checkout-actions">
                    <button type="button" class="glass-button" id="backToCart">
                        <i class="fas fa-arrow-left"></i> Back to Cart
                    </button>
                    <button type="button" class="glass-button" id="nextToPayment">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </form>
            
            <!-- Step 2: Payment -->
            <form class="checkout-form" id="paymentForm">
                <div class="payment-methods">
                    <div class="payment-method glass-card selected" data-method="credit">
                        <i class="fas fa-credit-card"></i>
                        <h4>Credit Card</h4>
                        <p>Pay with your credit card</p>
                    </div>
                    <div class="payment-method glass-card" data-method="paypal">
                        <i class="fab fa-paypal"></i>
                        <h4>PayPal</h4>
                        <p>Pay with your PayPal account</p>
                    </div>
                    <div class="payment-method glass-card" data-method="bank">
                        <i class="fas fa-university"></i>
                        <h4>Bank Transfer</h4>
                        <p>Direct bank transfer</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="cardName">Name on Card</label>
                    <input type="text" id="cardName" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="cardNumber">Card Number</label>
                    <input type="text" id="cardNumber" class="form-input" placeholder="1234 5678 9012 3456" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="cardExpiry">Expiry Date</label>
                        <input type="text" id="cardExpiry" class="form-input" placeholder="MM/YY" required>
                    </div>
                    <div class="form-group">
                        <label for="cardCVC">CVC</label>
                        <input type="text" id="cardCVC" class="form-input" placeholder="123" required>
                    </div>
                </div>
                
                <div class="checkout-actions">
                    <button type="button" class="glass-button" id="backToShipping">
                        <i class="fas fa-arrow-left"></i> Back to Shipping
                    </button>
                    <button type="button" class="glass-button" id="nextToReview">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </form>
            
            <!-- Step 3: Review -->
            <div class="checkout-form" id="reviewForm">
                <div class="checkout-review glass-card">
                    <h4 style="margin-bottom: 20px; color: var(--primary-color);">Order Summary</h4>
                    <div id="reviewItems">
                        <!-- Order items will be dynamically added here -->
                    </div>
                    
                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span id="reviewSubtotal">R0.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Shipping</span>
                        <span id="reviewShipping">R50.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Tax</span>
                        <span id="reviewTax">R0.00</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total</span>
                        <span id="reviewTotal">R0.00</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="orderNotes">Order Notes (Optional)</label>
                    <textarea id="orderNotes" class="form-input" rows="3" placeholder="Add special instructions for your order..."></textarea>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="agreeTermsCheckout" required>
                    <label for="agreeTermsCheckout">I agree to the Terms & Conditions and Privacy Policy</label>
                </div>
                
                <div class="checkout-actions">
                    <button type="button" class="glass-button" id="backToPayment">
                        <i class="fas fa-arrow-left"></i> Back to Payment
                    </button>
                    <button type="button" class="glass-button" id="placeOrderBtn">
                        <i class="fas fa-lock"></i> Place Order
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal - FIXED BUTTON SPACING -->
    <div class="success-modal" id="successModal">
        <div class="success-content glass-card">
            <button class="close-button" id="closeSuccess">&times;</button>
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="success-message">
                <h3>Order Confirmed!</h3>
                <p>Thank you for your purchase. Your order has been successfully placed and is being processed. You will receive a confirmation email shortly.</p>
                <p style="font-size: 1rem; color: var(--accent-color); margin-top: 20px;">
                    Order ID: <strong>#LFA-<span id="orderId">0000</span></strong>
                </p>
                
                <!-- FIXED: Added proper spacing between buttons -->
                <div class="success-button-container">
                    <button class="glass-button" id="continueShopping">
                        <i class="fas fa-shopping-bag"></i> Continue Shopping
                    </button>
                    <button class="glass-button" style="background: rgba(196, 167, 125, 0.3);">
                        <i class="fas fa-truck"></i> Track Order
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
    
    <!-- Mobile Navigation Links -->
    <div class="mobile-nav-links" id="mobileNavLinks">
        <i class="fas fa-times mobile-menu-close" id="mobileMenuClose"></i>
        <a href="#hero" class="mobile-nav-link">Home</a>
        <a href="#products" class="mobile-nav-link">Products</a>
        <a href="#all-products" class="mobile-nav-link">All Products</a>
        <a href="#gallery" class="mobile-nav-link">Gallery</a>
        <a href="#social" class="mobile-nav-link">Connect</a>
    </div>

    <!-- Navigation - ENLARGED BY 50% -->
    <nav id="navbar">
        <a href="#" class="logo"><i class="fas fa-spa"></i> Lonz Flawls Aura</a>
        <div class="nav-links">
            <a href="#hero">Home</a>
            <a href="#products">Products</a>
            <a href="#all-products">All Products</a>
            <a href="#gallery">Gallery</a>
            <a href="#social">Connect</a>
        </div>
        <div class="nav-icons">
            <!-- Search Container -->
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search products or skin issues...">
                <i class="fas fa-search search-icon" id="searchIcon"></i>
                <i class="fas fa-times search-close" id="searchClose"></i>
                <!-- Enhanced Search Results -->
                <div class="search-results" id="searchResults">
                    <!-- Content will be populated dynamically -->
                </div>
            </div>
            <!-- Menu Button -->
            <div class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Hero Section -->
        <section id="hero" class="hero">
            <div class="fade-in">
                <h1>Discover Your Glow</h1>
                <p>Lonz Flawls Aura combines science and nature to create premium skincare solutions that reveal your natural radiance. Experience the transformation.</p>
                <div class="hero-buttons">
                    <button class="glass-button start-qualification"><i class="fas fa-star"></i> Start Now</button>
                    <button class="glass-button"><i class="fas fa-play-circle"></i> Watch Our Story</button>
                </div>
            </div>
            <div class="scroll-indicator">
                <span>Scroll to explore</span>
                <i class="fas fa-chevron-down"></i>
            </div>
        </section>

        <!-- Lead Qualification Wizard -->
        <section id="qualification">
            <div class="lead-wizard glass-card fade-in">
                <button class="close-button" id="closeWizard">&times;</button>
                <div class="wizard-header">
                    <div class="wizard-avatar">
                        <i class="fas fa-spa"></i>
                    </div>
                    <div class="wizard-title">
                        <h3>Skin Analysis Wizard</h3>
                        <p>Answer a few questions to get personalized recommendations</p>
                    </div>
                </div>
                
                <div class="wizard-content">
                    <!-- Step 1: Skin Concern -->
                    <div class="wizard-step active" id="step1">
                        <h4>What is your primary skin concern?</h4>
                        <div class="option-grid">
                            <div class="option-item glass-card" data-value="acne">
                                <i class="fas fa-leaf"></i>
                                <p>Acne & Breakouts</p>
                            </div>
                            <div class="option-item glass-card" data-value="dark-spots">
                                <i class="fas fa-circle"></i>
                                <p>Dark Spots</p>
                            </div>
                            <div class="option-item glass-card" data-value="dry">
                                <i class="fas fa-tint"></i>
                                <p>Dryness</p>
                            </div>
                            <div class="option-item glass-card" data-value="uneven-tone">
                                <i class="fas fa-palette"></i>
                                <p>Uneven Tone</p>
                            </div>
                            <div class="option-item glass-card" data-value="glow">
                                <i class="fas fa-sun"></i>
                                <p>Glow Maintenance</p>
                            </div>
                        </div>
                        <div class="wizard-actions">
                            <button class="glass-button wizard-next" data-step="1">Next <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    
                    <!-- Step 2: Skin Sensitivity -->
                    <div class="wizard-step" id="step2">
                        <h4>How sensitive is your skin?</h4>
                        <div class="option-grid">
                            <div class="option-item glass-card" data-value="very-sensitive">
                                <i class="fas fa-exclamation-circle"></i>
                                <p>Very Sensitive</p>
                            </div>
                            <div class="option-item glass-card" data-value="sensitive">
                                <i class="fas fa-low-vision"></i>
                                <p>Sensitive</p>
                            </div>
                            <div class="option-item glass-card" data-value="normal">
                                <i class="fas fa-check-circle"></i>
                                <p>Normal</p>
                            </div>
                            <div class="option-item glass-card" data-value="resilient">
                                <i class="fas fa-shield-alt"></i>
                                <p>Resilient</p>
                            </div>
                        </div>
                        <div class="wizard-actions">
                            <button class="glass-button wizard-prev"><i class="fas fa-arrow-left"></i> Back</button>
                            <button class="glass-button wizard-next" data-step="2">Next <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    
                    <!-- Step 3: Skin Age -->
                    <div class="wizard-step" id="step3">
                        <h4>What is your skin age range?</h4>
                        <div class="option-grid">
                            <div class="option-item glass-card" data-value="under-25">
                                <i class="fas fa-child"></i>
                                <p>Under 25</p>
                            </div>
                            <div class="option-item glass-card" data-value="25-35">
                                <i class="fas fa-user"></i>
                                <p>25-35</p>
                            </div>
                            <div class="option-item glass-card" data-value="36-50">
                                <i class="fas fa-user-friends"></i>
                                <p>36-50</p>
                            </div>
                            <div class="option-item glass-card" data-value="50-plus">
                                <i class="fas fa-crown"></i>
                                <p>50+</p>
                            </div>
                        </div>
                        <div class="wizard-actions">
                            <button class="glass-button wizard-prev"><i class="fas fa-arrow-left"></i> Back</button>
                            <button class="glass-button wizard-next" data-step="3">Get Recommendations</button>
                        </div>
                    </div>
                </div>
                
                <div class="wizard-progress">
                    <div class="wizard-progress-bar" id="progressBar"></div>
                </div>
            </div>
        </section>

        <!-- Flagship Product -->
        <section id="flagship">
            <div class="section-header fade-in">
                <h2>Flagship Whitening Oil</h2>
                <p>Our most advanced formula for radiant, even-toned skin. Experience the transformation.</p>
            </div>
            
            <div class="products-grid fade-in">
                <div class="product-card glass-card flagship-card">
                    <div class="product-badge badge-flagship">Flagship</div>
                    <div class="flagship-container">
                        <img src="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Whitening Oil 100ml" class="flagship-image">
                        <div class="flagship-info">
                            <h3>Whitening Oil 100ml</h3>
                            <p>Our premium whitening oil is formulated with natural extracts and advanced brightening agents. This luxurious oil targets dark spots, evens skin tone, and delivers a radiant glow with continued use. Lightweight and fast-absorbing.</p>
                            <div class="flagship-details collapsed">
                                <div class="product-benefits"><strong>Benefits:</strong> Clear dead skin, Repair damage skin, Improve skin tone</div>
                                <div class="product-usage"><strong>Usage:</strong> Morning and night</div>
                                <div class="product-ingredients"><strong>Active Ingredients:</strong> Vitamin E and C collagen, Gluthathion</div>
                            </div>
                            <button class="see-more-btn">
                                <i class="fas fa-chevron-down"></i> See More
                            </button>
                            <div class="product-price">R200.00</div>
                            <button class="glass-button add-to-cart" data-id="1" data-name="Whitening Oil 100ml" data-price="200.00" data-image="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" style="background: rgba(196, 167, 125, 0.3);"><i class="fas fa-gem"></i> Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Extra Glow Collection Vertical -->
        <section id="extra-glow-collection" class="vertical-collection">
            <div class="collection-header fade-in">
                <h3>Extra Glow Collection</h3>
                <div class="collection-nav">
                    <button class="nav-arrow left" id="extraGlowPrev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-arrow right" id="extraGlowNext">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="vertical-track-container">
                <div class="vertical-track" id="extraGlowTrack">
                    <!-- Extra Glow Oil -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Extra Glow Oil</h3>
                                <p>Radiant glow oil for luminous, healthy-looking skin. Lightweight formula that absorbs quickly.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Benefits:</strong> Provides intense glow, Hydrates skin, Improves skin texture</div>
                                    <div class="product-usage"><strong>Usage:</strong> Apply daily after cleansing</div>
                                    <div class="product-ingredients"><strong>Active Ingredients:</strong> Vitamin C, Jojoba oil, Argan oil</div>
                                </div>
                                <button class="see-more-btn" data-target="extra-glow-oil">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R100.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="8" data-name="Extra Glow Oil" data-price="100.00" data-image="https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- Extra Glow Soap -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Extra Glow Soap</h3>
                                <p>Nourishing soap for glowing, moisturized skin. Gently cleanses while providing radiance.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Benefits:</strong> Brings out the glow, Moisturises dry skin, Helps treat Stretch marks, Helps fade skin scars</div>
                                    <div class="product-usage"><strong>Usage:</strong> Morning and Night</div>
                                    <div class="product-ingredients"><strong>Active Ingredients:</strong> Turmeric + Vitamin C, Essential oils, Lemon, Palm oil and Honey</div>
                                </div>
                                <button class="see-more-btn" data-target="extra-glow-soap">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R70.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="6" data-name="Extra Glow Soap" data-price="70.00" data-image="https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- Extra Glow Lotion -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Extra Glow Lotion 250g</h3>
                                <p>Hydrating lotion for glowing, healthy-looking skin. Provides all-day moisture and radiance.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Benefits:</strong> Helps with dry skin, Glowing, Dark inner thighs, Sunburn, Stretch marks, Blemishes, Wounds</div>
                                    <div class="product-usage"><strong>Usage:</strong> Morning and Night</div>
                                    <div class="product-ingredients"><strong>Active Ingredients:</strong> Vitamin C, Vegetal glycerin, Sodium lactate</div>
                                </div>
                                <button class="see-more-btn" data-target="extra-glow-lotion">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R100.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="4" data-name="Extra Glow Lotion 250g" data-price="100.00" data-image="https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Whitening Collection Vertical -->
        <section id="whitening-collection" class="vertical-collection">
            <div class="collection-header fade-in">
                <h3>Whitening Collection</h3>
                <div class="collection-nav">
                    <button class="nav-arrow left" id="whiteningPrev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-arrow right" id="whiteningNext">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="vertical-track-container">
                <div class="vertical-track" id="whiteningTrack">
                    <!-- Whitening Oil -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Whitening Tissue Oil</h3>
                                <p>Lightweight tissue oil for targeted whitening treatment. Evens skin tone and reduces dark spots.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Benefits:</strong> Brightens skin, Reduces dark spots, Evens skin tone</div>
                                    <div class="product-usage"><strong>Usage:</strong> Apply to targeted areas daily</div>
                                    <div class="product-ingredients"><strong>Active Ingredients:</strong> Vitamin C, Kojic acid, Licorice extract</div>
                                </div>
                                <button class="see-more-btn" data-target="whitening-oil">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R200.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="7" data-name="Whitening Tissue Oil" data-price="200.00" data-image="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- Whitening Soap -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Whitening Soap</h3>
                                <p>Gentle cleansing soap for skin whitening purposes. Removes impurities while brightening skin.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Benefits:</strong> Skin whitening purposes, Eliminates excess oils, Eliminates blemishes, Gently exfoliates dead skin cells, Treats hyperpigmentation and Acne</div>
                                    <div class="product-usage"><strong>Usage:</strong> Morning and Night</div>
                                    <div class="product-ingredients"><strong>Active Ingredients:</strong> Collagen extract, Licorice, Glutathione extract and Arbutin extract</div>
                                </div>
                                <button class="see-more-btn" data-target="whitening-soap">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R70.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="5" data-name="Whitening Soap" data-price="70.00" data-image="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- Whitening Cream -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Whitening Cream 250g</h3>
                                <p>Advanced whitening cream for even skin tone and radiant complexion. Provides deep hydration.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Benefits:</strong> Improves skin tone, Strong moisturising, Anti Aging, Acne, Pigmentation, Dark spot, Pimples</div>
                                    <div class="product-usage"><strong>Usage:</strong> Morning and night</div>
                                    <div class="product-ingredients"><strong>Active Ingredients:</strong> Vitamin E and C, Collagen and Glutathione</div>
                                </div>
                                <button class="see-more-btn" data-target="whitening-cream">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R150.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="2" data-name="Whitening Cream 250g" data-price="150.00" data-image="https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recommended Combo - UPDATED TO VERTICAL -->
        <section id="products" class="vertical-collection">
            <div class="collection-header fade-in">
                <h3>Recommended Combo</h3>
                <div class="collection-nav">
                    <button class="nav-arrow left" id="comboPrev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-arrow right" id="comboNext">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="vertical-track-container">
                <div class="vertical-track" id="comboTrack">
                    <!-- Whitening Combo -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-badge badge-recommended">Recommended</div>
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Whitening Combo</h3>
                                <p>Complete whitening set for radiant, even-toned skin. Perfect for daily use.</p>
                                <div class="product-details">
                                    <div class="product-usage"><strong>Usage:</strong> Morning and night</div>
                                    <div class="product-ingredients"><strong>Contains:</strong> Whitening oil, whitening soap, whitening cream</div>
                                </div>
                                <button class="see-more-btn" data-target="whitening-combo">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R420.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="14" data-name="Whitening Combo" data-price="420.00" data-image="https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- Extra Glow Combo -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-badge badge-bestseller">Bestseller</div>
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Extra Glow Combo</h3>
                                <p>Complete extra glow set for radiant, hydrated skin.</p>
                                <div class="product-details">
                                    <div class="product-usage"><strong>Usage:</strong> Morning and night</div>
                                    <div class="product-ingredients"><strong>Contains:</strong> Extra glow soap, extra glow oil, extra glow cream</div>
                                </div>
                                <button class="see-more-btn" data-target="extra-glow-combo">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R250.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="13" data-name="Extra Glow Combo" data-price="250.00" data-image="https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- Extra Whitening Combo -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-badge badge-recommended">Recommended</div>
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Extra Whitening Combo</h3>
                                <p>Premium whitening set with kojic soap for enhanced results.</p>
                                <div class="product-details">
                                    <div class="product-usage"><strong>Usage:</strong> Morning and night</div>
                                    <div class="product-ingredients"><strong>Contains:</strong> Whitening oil, whitening cream, kojic soap</div>
                                </div>
                                <button class="see-more-btn" data-target="extra-whitening-combo">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R500.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="15" data-name="Extra Whitening Combo" data-price="500.00" data-image="https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kojic Vertical -->
        <section id="kojic" class="vertical-collection">
            <div class="collection-header fade-in">
                <h3>Kojic Collection</h3>
                <div class="collection-nav">
                    <button class="nav-arrow left" id="kojicPrev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-arrow right" id="kojicNext">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="vertical-track-container">
                <div class="vertical-track" id="kojicTrack">
                    <!-- Kojic Soap -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Kojic Soap</h3>
                                <p>Treats different skin disorders and cleans whole body. Powerful formula for skin brightening.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Benefits:</strong> Treats uneven skin tone, Dark spots due to acne, Brightens the skin</div>
                                    <div class="product-usage"><strong>Usage:</strong> Use daily for best results</div>
                                    <div class="product-ingredients"><strong>Active Ingredients:</strong> Kojic acid, Glycerin, Essential oils</div>
                                </div>
                                <button class="see-more-btn" data-target="kojic-soap">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R150.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="3" data-name="Kojic Soap" data-price="150.00" data-image="https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Amal Collections Vertical -->
        <section id="amal-collections" class="vertical-collection">
            <div class="collection-header fade-in">
                <h3>Amal Collections</h3>
                <div class="collection-nav">
                    <button class="nav-arrow left" id="amalPrev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-arrow right" id="amalNext">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="vertical-track-container">
                <div class="vertical-track" id="amalTrack">
                    <!-- Black Oud (100ml) -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-badge badge-recommended">New</div>
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Black Oud (100ml)</h3>
                                <p>THE EXCLUSIVE OUD COLLECTION - A rich, deep oud fragrance with woody notes.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Fragrance:</strong> Black Oud</div>
                                    <div class="product-usage"><strong>Size:</strong> 100ml</div>
                                    <div class="product-ingredients"><strong>Collection:</strong> Amal Fragrances</div>
                                </div>
                                <button class="see-more-btn" data-target="black-oud">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R450.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="102" data-name="Black Oud (100ml)" data-price="450.00" data-image="https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- White Oud (100ml) -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-badge badge-recommended">New</div>
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>White Oud (100ml)</h3>
                                <p>THE EXCLUSIVE OUD COLLECTION - A lighter, floral oud fragrance with subtle notes.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Fragrance:</strong> White Oud</div>
                                    <div class="product-usage"><strong>Size:</strong> 100ml</div>
                                    <div class="product-ingredients"><strong>Collection:</strong> Amal Fragrances</div>
                                </div>
                                <button class="see-more-btn" data-target="white-oud">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R450.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="105" data-name="White Oud (100ml)" data-price="450.00" data-image="https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- Premium Oud (100ml) -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-badge badge-flagship">Premium</div>
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>Premium Oud (100ml)</h3>
                                <p>THE PREMIUM OUD COLLECTION - Luxurious oud fragrance with premium ingredients.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Collection:</strong> Premium Oud</div>
                                    <div class="product-usage"><strong>Size:</strong> 100ml</div>
                                    <div class="product-ingredients"><strong>Category:</strong> Amal Fragrances</div>
                                </div>
                                <button class="see-more-btn" data-target="premium-oud">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R1500.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="112" data-name="Premium Oud (100ml)" data-price="1500.00" data-image="https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                    
                    <!-- OUD JOY (100ml) -->
                    <div class="vertical-card">
                        <div class="product-card glass-card">
                            <div class="product-badge badge-bestseller">Bestseller</div>
                            <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                            <div class="product-info">
                                <h3>OUD JOY (100ml)</h3>
                                <p>THE EXCLUSIVE OUD SPRING COLLECTION - A fresh, uplifting oud fragrance for spring.</p>
                                <div class="product-details">
                                    <div class="product-benefits"><strong>Fragrance:</strong> OUD JOY</div>
                                    <div class="product-usage"><strong>Size:</strong> 100ml</div>
                                    <div class="product-ingredients"><strong>Collection:</strong> Amal Fragrances</div>
                                </div>
                                <button class="see-more-btn" data-target="oud-joy">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R600.00</div>
                            </div>
                            <button class="glass-button add-to-cart" data-id="110" data-name="OUD JOY (100ml)" data-price="600.00" data-image="https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- All Products -->
        <section id="all-products">
            <div class="section-header fade-in">
                <h2>All Products</h2>
                <p>Explore our complete range of premium skincare products</p>
            </div>
            
            <div class="products-grid fade-in">
                <!-- Whitening Cream -->
                <div class="product-card glass-card">
                    <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                    <div class="product-info">
                        <h3>Whitening Cream 250g</h3>
                        <p>Advanced whitening cream for even skin tone and radiant complexion.</p>
                        <div class="product-details">
                            <div class="product-benefits"><strong>Benefits:</strong> Improves skin tone, Strong moisturising, Anti Aging, Acne, Pigmentation, Dark spot, Pimples</div>
                            <div class="product-usage"><strong>Usage:</strong> Morning and night</div>
                            <div class="product-ingredients"><strong>Active Ingredients:</strong> Vitamin E and C, Collagen and Glutathione</div>
                        </div>
                        <button class="see-more-btn" data-target="whitening-cream-all">
                            <i class="fas fa-chevron-down"></i> See More
                        </button>
                        <div class="product-price">R150.00</div>
                    </div>
                    <button class="glass-button add-to-cart" data-id="2" data-name="Whitening Cream 250g" data-price="150.00" data-image="https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                </div>
                
                <!-- Kojic Soap -->
                <div class="product-card glass-card">
                    <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                    <div class="product-info">
                        <h3>Kojic Soap</h3>
                        <p>Treats different skin disorders and cleans whole body.</p>
                        <div class="product-details">
                            <div class="product-benefits"><strong>Benefits:</strong> Treats uneven skin tone, Dark spots due to acne, Brightens the skin</div>
                        </div>
                        <button class="see-more-btn" data-target="kojic-soap-all">
                            <i class="fas fa-chevron-down"></i> See More
                        </button>
                        <div class="product-price">R150.00</div>
                    </div>
                    <button class="glass-button add-to-cart" data-id="3" data-name="Kojic Soap" data-price="150.00" data-image="https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                </div>
                
                <!-- Extra Glow Lotion -->
                <div class="product-card glass-card">
                    <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                    <div class="product-info">
                        <h3>Extra Glow Lotion 250g</h3>
                        <p>Hydrating lotion for glowing, healthy-looking skin.</p>
                        <div class="product-details">
                            <div class="product-benefits"><strong>Benefits:</strong> Helps with dry skin, Glowing, Dark inner thighs, Sunburn, Stretch marks, Blemishes, Wounds</div>
                            <div class="product-usage"><strong>Usage:</strong> Morning and Night</div>
                            <div class="product-ingredients"><strong>Active Ingredients:</strong> Vitamin C, Vegetal glycerin, Sodium lactate</div>
                        </div>
                        <button class="see-more-btn" data-target="extra-glow-lotion-all">
                            <i class="fas fa-chevron-down"></i> See More
                        </button>
                        <div class="product-price">R100.00</div>
                    </div>
                    <button class="glass-button add-to-cart" data-id="4" data-name="Extra Glow Lotion 250g" data-price="100.00" data-image="https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                </div>
                
                <!-- Whitening Soap -->
                <div class="product-card glass-card">
                    <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                    <div class="product-info">
                        <h3>Whitening Soap</h3>
                        <p>Gentle cleansing soap for skin whitening purposes.</p>
                        <div class="product-details">
                            <div class="product-benefits"><strong>Benefits:</strong> Skin whitening purposes, Eliminates excess oils, Eliminates blemishes, Gently exfoliates dead skin cells, Treats hyperpigmentation and Acne</div>
                            <div class="product-usage"><strong>Usage:</strong> Morning and Night</div>
                            <div class="product-ingredients"><strong>Active Ingredients:</strong> Collagen extract, Licorice, Glutathione extract and Arbutin extract</div>
                        </div>
                        <button class="see-more-btn" data-target="whitening-soap-all">
                            <i class="fas fa-chevron-down"></i> See More
                        </button>
                        <div class="product-price">R70.00</div>
                    </div>
                    <button class="glass-button add-to-cart" data-id="5" data-name="Whitening Soap" data-price="70.00" data-image="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                </div>
                
                <!-- Extra Glow Soap -->
                <div class="product-card glass-card">
                    <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                    <div class="product-info">
                        <h3>Extra Glow Soap</h3>
                        <p>Nourishing soap for glowing, moisturized skin.</p>
                        <div class="product-details">
                            <div class="product-benefits"><strong>Benefits:</strong> Brings out the glow, Moisturises dry skin, Helps treat Stretch marks, Helps fade skin scars</div>
                            <div class="product-usage"><strong>Usage:</strong> Morning and Night</div>
                            <div class="product-ingredients"><strong>Active Ingredients:</strong> Turmeric + Vitamin C, Essential oils, Lemon, Palm oil and Honey</div>
                        </div>
                        <button class="see-more-btn" data-target="extra-glow-soap-all">
                            <i class="fas fa-chevron-down"></i> See More
                        </button>
                        <div class="product-price">R70.00</div>
                    </div>
                    <button class="glass-button add-to-cart" data-id="6" data-name="Extra Glow Soap" data-price="70.00" data-image="https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                </div>
                
                <!-- Whitening Tissue Oil -->
                <div class="product-card glass-card">
                    <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                    <div class="product-info">
                        <h3>Whitening Tissue Oil</h3>
                        <p>Lightweight tissue oil for targeted whitening treatment.</p>
                        <div class="product-details">
                            <div class="product-benefits"><strong>Benefits:</strong> Brightens targeted areas, Reduces dark spots, Evens skin tone</div>
                        </div>
                        <button class="see-more-btn" data-target="whitening-tissue-oil">
                            <i class="fas fa-chevron-down"></i> See More
                        </button>
                        <div class="product-price">R200.00</div>
                    </div>
                    <button class="glass-button add-to-cart" data-id="7" data-name="Whitening Tissue Oil" data-price="200.00" data-image="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                </div>
                
                <!-- Extra Glow Oil -->
                <div class="product-card glass-card">
                    <div class="product-image" style="background-image: url('https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80');"></div>
                    <div class="product-info">
                        <h3>Extra Glow Oil</h3>
                        <p>Radiant glow oil for luminous, healthy-looking skin.</p>
                        <div class="product-details">
                            <div class="product-benefits"><strong>Benefits:</strong> Provides intense glow, Hydrates skin, Improves skin texture</div>
                        </div>
                        <button class="see-more-btn" data-target="extra-glow-oil-all">
                            <i class="fas fa-chevron-down"></i> See More
                        </button>
                        <div class="product-price">R100.00</div>
                    </div>
                    <button class="glass-button add-to-cart" data-id="8" data-name="Extra Glow Oil" data-price="100.00" data-image="https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"><i class="fas fa-cart-plus"></i> Add to Cart</button>
                </div>
            </div>
        </section>

        <!-- Gallery -->
        <section id="gallery">
            <div class="section-header fade-in">
                <h2>Glow Gallery</h2>
                <p>See the transformation and lifestyle with Lonz Flawls Aura</p>
            </div>
            
            <div class="gallery-container fade-in">
                <div class="gallery-track" id="galleryTrack">
                    <div class="gallery-slide glass-card">
                        <img src="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Skincare products">
                    </div>
                    <div class="gallery-slide glass-card">
                        <img src="https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Product application">
                    </div>
                    <div class="gallery-slide glass-card">
                        <img src="https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Natural ingredients">
                    </div>
                    <div class="gallery-slide glass-card">
                        <img src="https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Luxury skincare">
                    </div>
                    <div class="gallery-slide glass-card">
                        <img src="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Radiant skin results">
                    </div>
                </div>
                
                <div class="gallery-nav">
                    <div class="gallery-dot active" data-index="0"></div>
                    <div class="gallery-dot" data-index="1"></div>
                    <div class="gallery-dot" data-index="2"></div>
                    <div class="gallery-dot" data-index="3"></div>
                    <div class="gallery-dot" data-index="4"></div>
                </div>
            </div>
        </section>

        <!-- Social Links Section -->
        <section id="social" class="social-section">
            <div class="fade-in">
                <h3>Join Our Glow Community</h3>
                <p>Follow us for skincare tips, behind-the-scenes, and exclusive offers</p>
                <div class="social-links-container">
                    <a href="https://www.facebook.com/lonia.mongwe" target="_blank" class="social-button facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.tiktok.com/@loniamongwe?_r=1&_t=ZS-92GQkfgjDU4" target="_blank" class="social-button tiktok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://wa.me/+27735511216" target="_blank" class="social-button whatsapp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="mailto:mongwelonia@gmail.com" target="_blank" class="social-button email">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://www.instagram.com/mongwelonia?igsh=MXBoN2s5YnVzeHFxbg==" target="_blank" class="social-button instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
                <div style="margin-top: 30px;">
                    <p style="color: rgba(255, 255, 255, 0.8);">Direct WhatsApp: <strong>+27 73 551 1216</strong></p>
                    <p style="color: rgba(255, 255, 255, 0.8); margin-top: 10px;">Email: <strong>mongwelonia@gmail.com</strong></p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer id="footer">
            <div class="footer-content fade-in">
                <div class="footer-column">
                    <h4>Lonz Flawls Aura</h4>
                    <p>Premium skincare solutions that combine science and nature to reveal your natural radiance. Start your glow journey today.</p>
                </div>
                
                <div class="footer-column">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#hero">Home</a></li>
                        <li><a href="#products">Products</a></li>
                        <li><a href="#all-products">All Products</a></li>
                        <li><a href="#gallery">Gallery</a></li>
                        <li><a href="#social">Connect</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h4>Contact Info</h4>
                    <p><i class="fab fa-whatsapp"></i> +27 73 551 1216</p>
                    <p><i class="fas fa-envelope"></i> mongwelonia@gmail.com</p>
                    <p><i class="fas fa-map-marker-alt"></i> South Africa</p>
                </div>
                
                <div class="footer-column">
                    <h4>Join Our Glow Club</h4>
                    <p>Subscribe to get exclusive offers, skincare tips, and early access to new products.</p>
                    <div class="newsletter-form">
                        <input type="email" placeholder="Your email address">
                        <button class="glass-button">Subscribe</button>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Lonz Flawls Aura. All rights reserved. | Premium Skincare</p>
            </div>
        </footer>
    </div>

    <!-- Results Modal - UPDATED LAYOUT -->
    <div class="results-modal" id="resultsModal">
        <button class="close-button" id="closeResults">&times;</button>
        
        <!-- Affirmations Section - FREE STANDING -->
        <div class="affirmations-section fade-in">
            <div class="result-icon">
                <i class="fas fa-spa"></i>
            </div>
            <div class="result-message">
                <h3>Your Personalized Glow Plan</h3>
                <p id="resultDescription"></p>
            </div>
        </div>
        
        <!-- Products Section - IN GLASS CARD -->
        <div class="results-products-section">
            <div class="results-products-container glass-card">
                <div class="personalized-products-container" id="personalizedProducts">
                    <!-- Personalized products will be dynamically added here as product cards -->
                </div>
                
                <div class="result-actions">
                    <button class="glass-button" id="closeResultsBtn">Continue Browsing</button>
                    <button class="glass-button" style="background: rgba(196, 167, 125, 0.3); margin-left: 15px;" id="addAllToCart">
                        <i class="fas fa-shopping-cart"></i> Add All to Cart
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const navbar = document.getElementById('navbar');
        const fadeElements = document.querySelectorAll('.fade-in');
        const startQualificationBtn = document.querySelector('.start-qualification');
        const wizardSteps = document.querySelectorAll('.wizard-step');
        const optionItems = document.querySelectorAll('.option-item');
        const wizardNextBtns = document.querySelectorAll('.wizard-next');
        const wizardPrevBtns = document.querySelectorAll('.wizard-prev');
        const progressBar = document.getElementById('progressBar');
        const resultsModal = document.getElementById('resultsModal');
        const closeResultsBtn = document.getElementById('closeResults');
        const closeResultsBtn2 = document.getElementById('closeResultsBtn');
        const addAllToCartBtn = document.getElementById('addAllToCart');
        const galleryTrack = document.getElementById('galleryTrack');
        const galleryDots = document.querySelectorAll('.gallery-dot');
        
        // Search elements
        const searchIcon = document.getElementById('searchIcon');
        const searchInput = document.getElementById('searchInput');
        const searchClose = document.getElementById('searchClose');
        const searchResults = document.getElementById('searchResults');
        
        // New search overlay elements
        const searchOverlay = document.getElementById('searchOverlay');
        const searchOverlayInput = document.getElementById('searchOverlayInput');
        const searchOverlayResults = document.getElementById('searchOverlayResults');
        const searchBackBtn = document.getElementById('searchBackBtn');
        
        // Cart elements
        const floatingCartBtn = document.getElementById('floatingCartBtn');
        const floatingCartBadge = document.getElementById('floatingCartBadge');
        const cartModal = document.getElementById('cartModal');
        const closeCartBtn = document.getElementById('closeCart');
        const cartItems = document.getElementById('cartItems');
        const cartSummary = document.getElementById('cartSummary');
        const addToCartBtns = document.querySelectorAll('.add-to-cart');
        const checkoutBtn = document.getElementById('checkoutBtn');
        
        // Close buttons
        const closeAuthBtn = document.getElementById('closeAuth');
        const closeWizardBtn = document.getElementById('closeWizard');
        const closeCheckoutBtn = document.getElementById('closeCheckout');
        const closeSuccessBtn = document.getElementById('closeSuccess');
        
        // Checkout elements
        const checkoutModal = document.getElementById('checkoutModal');
        const checkoutSteps = document.querySelectorAll('.checkout-step');
        const checkoutForms = document.querySelectorAll('.checkout-form');
        const shippingForm = document.getElementById('shippingForm');
        const paymentForm = document.getElementById('paymentForm');
        const reviewForm = document.getElementById('reviewForm');
        const backToCartBtn = document.getElementById('backToCart');
        const nextToPaymentBtn = document.getElementById('nextToPayment');
        const backToShippingBtn = document.getElementById('backToShipping');
        const nextToReviewBtn = document.getElementById('nextToReview');
        const backToPaymentBtn2 = document.getElementById('backToPayment');
        const placeOrderBtn = document.getElementById('placeOrderBtn');
        const paymentMethods = document.querySelectorAll('.payment-method');
        
        // Success modal elements
        const successModal = document.getElementById('successModal');
        const continueShoppingBtn = document.getElementById('continueShopping');
        
        // Mobile menu elements
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenuBtnIcon = document.querySelector('#mobileMenuBtn i');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
        const mobileNavLinks = document.getElementById('mobileNavLinks');
        const mobileMenuClose = document.getElementById('mobileMenuClose');
        const mobileNavLinksItems = document.querySelectorAll('.mobile-nav-link');
        
        // Flagship product elements
        const seeMoreBtn = document.querySelector('.see-more-btn');
        const flagshipDetails = document.querySelector('.flagship-details');
        
        // NEW: Vertical Collection Elements
        const verticalCollections = [
            {
                id: 'extraGlow',
                track: document.getElementById('extraGlowTrack'),
                prevBtn: document.getElementById('extraGlowPrev'),
                nextBtn: document.getElementById('extraGlowNext'),
                cards: [],
                currentIndex: 0
            },
            {
                id: 'whitening',
                track: document.getElementById('whiteningTrack'),
                prevBtn: document.getElementById('whiteningPrev'),
                nextBtn: document.getElementById('whiteningNext'),
                cards: [],
                currentIndex: 0
            },
            {
                id: 'combo',
                track: document.getElementById('comboTrack'),
                prevBtn: document.getElementById('comboPrev'),
                nextBtn: document.getElementById('comboNext'),
                cards: [],
                currentIndex: 0
            },
            {
                id: 'kojic',
                track: document.getElementById('kojicTrack'),
                prevBtn: document.getElementById('kojicPrev'),
                nextBtn: document.getElementById('kojicNext'),
                cards: [],
                currentIndex: 0
            },
            {
                id: 'amal',
                track: document.getElementById('amalTrack'),
                prevBtn: document.getElementById('amalPrev'),
                nextBtn: document.getElementById('amalNext'),
                cards: [],
                currentIndex: 0
            }
        ];
        
        // Enhanced Product data with skin issues and benefits - UPDATED WITH AMAL FRAGRANCES
        const products = [
            {
                id: 1,
                name: "Whitening Oil 100ml",
                price: 200.00,
                image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                description: "Our premium whitening oil is formulated with natural extracts and advanced brightening agents.",
                benefits: "Clear dead skin, Repair damage skin, Improve skin tone",
                usage: "Morning and night",
                ingredients: "Vitamin E and C collagen, Gluthathion",
                category: "oil",
                skinIssues: ["dark spots", "uneven skin tone", "dull skin", "hyperpigmentation", "aging skin"],
                benefitsList: ["brightening", "moisturizing", "anti-aging", "skin repair"],
                searchScore: 95,
                section: "flagship"
            },
            {
                id: 2,
                name: "Whitening Cream 250g",
                price: 150.00,
                image: "https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Advanced whitening cream for even skin tone and radiant complexion.",
                benefits: "Improves skin tone, Strong moisturising, Anti Aging, Acne, Pigmentation, Dark spot, Pimples",
                usage: "Morning and night",
                ingredients: "Vitamin E and C, Collagen and Glutathione",
                category: "cream",
                skinIssues: ["acne", "dark spots", "pigmentation", "uneven skin tone", "pimples", "aging"],
                benefitsList: ["moisturizing", "anti-acne", "brightening", "anti-aging"],
                searchScore: 90,
                section: "all-products"
            },
            {
                id: 3,
                name: "Kojic Soap",
                price: 150.00,
                image: "https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Treats different skin disorders and cleans whole body.",
                benefits: "Treats uneven skin tone, Dark spots due to acne, Brightens the skin",
                usage: "",
                ingredients: "",
                category: "soap",
                skinIssues: ["uneven skin tone", "dark spots", "acne scars", "dull skin", "hyperpigmentation"],
                benefitsList: ["cleansing", "brightening", "exfoliating", "acne treatment"],
                searchScore: 85,
                section: "all-products"
            },
            {
                id: 4,
                name: "Extra Glow Lotion 250g",
                price: 100.00,
                image: "https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Hydrating lotion for glowing, healthy-looking skin.",
                benefits: "Helps with dry skin, Glowing, Dark inner thighs, Sunburn, Stretch marks, Blemishes, Wounds",
                usage: "Morning and Night",
                ingredients: "Vitamin C, Vegetal glycerin, Sodium lactate",
                category: "lotion",
                skinIssues: ["dry skin", "stretch marks", "blemishes", "sunburn", "dull skin", "dark inner thighs"],
                benefitsList: ["hydration", "glowing skin", "skin repair", "moisturizing"],
                searchScore: 80,
                section: "all-products"
            },
            {
                id: 5,
                name: "Whitening Soap",
                price: 70.00,
                image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Gentle cleansing soap for skin whitening purposes.",
                benefits: "Skin whitening purposes, Eliminates excess oils, Eliminates blemishes, Gently exfoliates dead skin cells, Treats hyperpigmentation and Acne",
                usage: "Morning and Night",
                ingredients: "Collagen extract, Licorice, Glutathione extract and Arbutin extract",
                category: "soap",
                skinIssues: ["excess oil", "blemishes", "hyperpigmentation", "acne", "dull skin"],
                benefitsList: ["cleansing", "brightening", "oil control", "exfoliating"],
                searchScore: 75,
                section: "all-products"
            },
            {
                id: 6,
                name: "Extra Glow Soap",
                price: 70.00,
                image: "https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Nourishing soap for glowing, moisturized skin.",
                benefits: "Brings out the glow, Moisturises dry skin, Helps treat Stretch marks, Helps fade skin scars",
                usage: "Morning and Night",
                ingredients: "Turmeric + Vitamin C, Essential oils, Lemon, Palm oil and Honey",
                category: "soap",
                skinIssues: ["dry skin", "stretch marks", "skin scars", "dull skin"],
                benefitsList: ["glowing skin", "moisturizing", "skin repair", "nourishing"],
                searchScore: 70,
                section: "all-products"
            },
            {
                id: 7,
                name: "Whitening Tissue Oil",
                price: 200.00,
                image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Lightweight tissue oil for targeted whitening treatment.",
                benefits: "",
                usage: "",
                ingredients: "",
                category: "oil",
                skinIssues: ["dark spots", "uneven skin tone", "hyperpigmentation"],
                benefitsList: ["targeted treatment", "brightening", "skin repair"],
                searchScore: 65,
                section: "all-products"
            },
            {
                id: 8,
                name: "Extra Glow Oil",
                price: 100.00,
                image: "https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Radiant glow oil for luminous, healthy-looking skin.",
                benefits: "",
                usage: "",
                ingredients: "",
                category: "oil",
                skinIssues: ["dull skin", "dry skin", "lack of glow"],
                benefitsList: ["glowing skin", "radiance", "moisturizing"],
                searchScore: 60,
                section: "all-products"
            },
            {
                id: 13,
                name: "Extra Glow Combo",
                price: 250.00,
                image: "https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Complete extra glow set for radiant, hydrated skin.",
                benefits: "",
                usage: "Morning and night",
                ingredients: "Extra glow soap, extra glow oil, extra glow cream",
                category: "combo",
                skinIssues: ["dull skin", "dry skin", "lack of radiance", "dehydrated skin"],
                benefitsList: ["complete routine", "glowing skin", "hydration", "radiance"],
                searchScore: 88,
                section: "products"
            },
            {
                id: 14,
                name: "Whitening Combo",
                price: 420.00,
                image: "https://images.unsplash.com/photo-1556228578-9c360e1d8d34?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Complete whitening set for radiant, even-toned skin.",
                benefits: "",
                usage: "Morning and night",
                ingredients: "Whitening oil, whitening soap, whitening cream",
                category: "combo",
                skinIssues: ["dark spots", "uneven skin tone", "hyperpigmentation", "dull complexion"],
                benefitsList: ["complete routine", "brightening", "even skin tone", "radiance"],
                searchScore: 92,
                section: "products"
            },
            {
                id: 15,
                name: "Extra Whitening Combo",
                price: 500.00,
                image: "https://images.unsplash.com/photo-1571781926291-c477ebfd024b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "Premium whitening set with kojic soap for enhanced results.",
                benefits: "",
                usage: "Morning and night",
                ingredients: "Whitening oil, whitening cream, kojic soap",
                category: "combo",
                skinIssues: ["severe hyperpigmentation", "dark spots", "acne scars", "uneven skin tone"],
                benefitsList: ["premium routine", "intensive brightening", "skin repair", "radiance"],
                searchScore: 89,
                section: "products"
            },
            // AMAL FRAGRANCES PRODUCTS
            {
                id: 102,
                name: "Black Oud (100ml)",
                price: 450.00,
                image: "https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "THE EXCLUSIVE OUD COLLECTION - A rich, deep oud fragrance with woody notes.",
                benefits: "Fragrance: Black Oud",
                usage: "Size: 100ml",
                ingredients: "Collection: Amal Fragrances",
                category: "perfume",
                skinIssues: ["fragrance", "oud", "perfume", "luxury"],
                benefitsList: ["long-lasting", "woody notes", "luxury fragrance"],
                searchScore: 85,
                section: "all-products"
            },
            {
                id: 105,
                name: "White Oud (100ml)",
                price: 450.00,
                image: "https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "THE EXCLUSIVE OUD COLLECTION - A lighter, floral oud fragrance with subtle notes.",
                benefits: "Fragrance: White Oud",
                usage: "Size: 100ml",
                ingredients: "Collection: Amal Fragrances",
                category: "perfume",
                skinIssues: ["fragrance", "oud", "perfume", "floral"],
                benefitsList: ["long-lasting", "floral notes", "subtle fragrance"],
                searchScore: 85,
                section: "all-products"
            },
            {
                id: 112,
                name: "Premium Oud (100ml)",
                price: 1500.00,
                image: "https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "THE PREMIUM OUD COLLECTION - Luxurious oud fragrance with premium ingredients.",
                benefits: "Collection: Premium Oud",
                usage: "Size: 100ml",
                ingredients: "Category: Amal Fragrances",
                category: "perfume",
                skinIssues: ["fragrance", "oud", "perfume", "premium", "luxury"],
                benefitsList: ["luxury", "premium ingredients", "exclusive"],
                searchScore: 90,
                section: "all-products"
            },
            {
                id: 110,
                name: "OUD JOY (100ml)",
                price: 600.00,
                image: "https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                description: "THE EXCLUSIVE OUD SPRING COLLECTION - A fresh, uplifting oud fragrance for spring.",
                benefits: "Fragrance: OUD JOY",
                usage: "Size: 100ml",
                ingredients: "Collection: Amal Fragrances",
                category: "perfume",
                skinIssues: ["fragrance", "oud", "perfume", "spring"],
                benefitsList: ["fresh", "uplifting", "spring fragrance"],
                searchScore: 85,
                section: "all-products"
            }
        ];
        
        // Enhanced product recommendation logic based on skin issues
        const recommendationLogic = {
            "acne": {
                description: "For acne-prone skin, we recommend gentle yet effective products that combat breakouts while soothing inflammation.",
                products: [3, 2, 5], // Kojic Soap, Whitening Cream, Whitening Soap
                primaryCombo: null,
                explanation: "These products work together to cleanse, treat, and prevent breakouts without harsh chemicals."
            },
            "dark-spots": {
                description: "For dark spots and hyperpigmentation, we recommend targeted brightening products that fade spots and even skin tone.",
                products: [1, 2, 3], // Whitening Oil, Whitening Cream, Kojic Soap
                primaryCombo: 14, // Whitening Combo
                explanation: "This combination delivers maximum brightening power to fade dark spots and reveal radiant skin."
            },
            "dry": {
                description: "For dry skin, we recommend intensive hydration and nourishment to restore moisture barrier and glow.",
                products: [4, 8], // Extra Glow Lotion, Extra Glow Oil
                primaryCombo: 13, // Extra Glow Combo
                explanation: "These deeply hydrating products work together to quench thirsty skin and restore natural radiance."
            },
            "uneven-tone": {
                description: "For uneven skin tone, we recommend products that balance complexion and deliver consistent results.",
                products: [1, 2, 5], // Whitening Oil, Whitening Cream, Whitening Soap
                primaryCombo: 14, // Whitening Combo
                explanation: "This combination evens out skin tone and delivers a balanced, radiant complexion."
            },
            "glow": {
                description: "For glow maintenance, we recommend products that enhance natural radiance and protect skin health.",
                products: [4, 6, 8], // Extra Glow Lotion, Extra Glow Soap, Extra Glow Oil
                primaryCombo: 13, // Extra Glow Combo
                explanation: "These glow-enhancing products work together to maintain your skin's natural luminosity."
            }
        };
        
        // Top searched products (anchor buys) - UPDATED TO INCLUDE AMAL FRAGRANCES
        const topSearchedProducts = [1, 14, 2, 13, 3, 4, 102, 110, 112, 105];
        
        // Common skin issues and benefits for suggestions - UPDATED WITH FRAGRANCE TERMS
        const searchSuggestions = {
            skinIssues: [
                "acne", "dark spots", "dry skin", "oily skin", "aging skin", 
                "hyperpigmentation", "uneven skin tone", "dull skin", "sensitive skin",
                "stretch marks", "sun damage", "wrinkles", "fine lines", "redness"
            ],
            benefits: [
                "brightening", "moisturizing", "anti-aging", "hydration", 
                "glowing skin", "radiance", "skin repair", "exfoliating",
                "cleansing", "firming", "soothing", "protective", "nourishing"
            ],
            productTypes: [
                "oil", "cream", "soap", "lotion", "combo", "serum", "toner",
                "perfume", "fragrance", "oud", "diffuser", "deodorant"
            ]
        };
        
        // User data for qualification
        const userData = {
            skinConcern: '',
            sensitivity: '',
            ageRange: ''
        };
        
        // Personalized recommendations for current user
        let personalizedRecommendations = [];
        
        // Current wizard step
        let currentStep = 1;
        const totalSteps = 3; // Changed from 4 to 3 after removing photo upload
        
        // Gallery state
        let currentGallerySlide = 0;
        const gallerySlideCount = 5;
        
        // Cart state
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Checkout state
        let currentCheckoutStep = 1;
        let selectedPaymentMethod = 'credit';
        
        // Mobile menu state
        let isMobileMenuOpen = false;
        
        // Search state
        let currentSearchCategory = 'all';
        let searchTimeout = null;
        
        // NEW: Address Selection State
        let currentAddressStep = 'country';
        let selectedCountry = '';
        let selectedState = '';
        let selectedCity = '';
        let selectedVillage = '';
        let selectedZip = '';
        
        // Address data structure (mock data for demonstration) - MODIFIED: Only South Africa and United States
        const addressData = {
            countries: [
                { code: 'ZA', name: 'South Africa', flag: '', currency: 'ZAR' },
                { code: 'US', name: 'United States', flag: '', currency: 'USD' }
            ],
            states: {
                'ZA': [
                    'Gauteng', 'Western Cape', 'KwaZulu-Natal', 'Eastern Cape', 
                    'Limpopo', 'Mpumalanga', 'North West', 'Free State', 'Northern Cape'
                ],
                'US': [
                    'California', 'Texas', 'Florida', 'New York', 'Pennsylvania',
                    'Illinois', 'Ohio', 'Georgia', 'North Carolina', 'Michigan'
                ]
            },
            cities: {
                'Gauteng': ['Johannesburg', 'Pretoria', 'Sandton', 'Randburg', 'Centurion'],
                'Western Cape': ['Cape Town', 'Stellenbosch', 'Paarl', 'Worcester', 'George'],
                'California': ['Los Angeles', 'San Francisco', 'San Diego', 'Sacramento', 'San Jose'],
                'Texas': ['Houston', 'Dallas', 'Austin', 'San Antonio', 'Fort Worth']
            },
            villages: {
                'Johannesburg': ['Sandton CBD', 'Randburg CBD', 'Rosebank', 'Parktown', 'Melville'],
                'Cape Town': ['City Bowl', 'Atlantic Seaboard', 'Southern Suburbs', 'Northern Suburbs'],
                'Los Angeles': ['Hollywood', 'Downtown LA', 'Beverly Hills', 'Santa Monica', 'Venice']
            },
            zipCodes: {
                'Johannesburg': ['2000', '2001', '2196', '2193', '2194'],
                'Cape Town': ['8000', '8001', '7700', '7800', '7925'],
                'Los Angeles': ['90001', '90002', '90003', '90004', '90005']
            }
        };
        
        // Initialize cart badge
        updateCartBadge();
        
        // Initialize address selection
        initializeAddressSelection();
        
        // Initialize vertical collections
        initializeVerticalCollections();
        
        // Floating cart functionality
        floatingCartBtn.addEventListener('click', () => {
            cartModal.classList.add('active');
            updateCartDisplay();
        });
        
        // Floating cart hover effects
        floatingCartBtn.addEventListener('mouseenter', () => {
            const label = document.querySelector('.floating-cart-label');
            label.style.opacity = '1';
            label.style.transform = 'translateY(0)';
        });
        
        floatingCartBtn.addEventListener('mouseleave', () => {
            const label = document.querySelector('.floating-cart-label');
            label.style.opacity = '0';
            label.style.transform = 'translateY(-10px)';
        });
        
        // Mobile menu functionality
        mobileMenuBtn.addEventListener('click', () => {
            if (isMobileMenuOpen) {
                closeMobileMenu();
            } else {
                openMobileMenu();
            }
        });
        
        mobileMenuClose.addEventListener('click', () => {
            closeMobileMenu();
        });
        
        mobileMenuOverlay.addEventListener('click', () => {
            closeMobileMenu();
        });
        
        mobileNavLinksItems.forEach(link => {
            link.addEventListener('click', () => {
                closeMobileMenu();
            });
        });
        
        function openMobileMenu() {
            mobileMenuOverlay.classList.add('active');
            mobileNavLinks.classList.add('active');
            isMobileMenuOpen = true;
            document.body.style.overflow = 'hidden';
            mobileMenuBtnIcon.classList.remove('fa-bars');
            mobileMenuBtnIcon.classList.add('fa-times');
            mobileMenuBtn.classList.add('active');
        }
        
        function closeMobileMenu() {
            mobileMenuOverlay.classList.remove('active');
            mobileNavLinks.classList.remove('active');
            isMobileMenuOpen = false;
            document.body.style.overflow = '';
            mobileMenuBtnIcon.classList.remove('fa-times');
            mobileMenuBtnIcon.classList.add('fa-bars');
            mobileMenuBtn.classList.remove('active');
        }
        
        // Close buttons functionality
        closeAuthBtn.addEventListener('click', () => {
            document.getElementById('authModal').classList.remove('active');
        });
        
        closeWizardBtn.addEventListener('click', () => {
            wizardSteps.forEach(step => step.classList.remove('active'));
            wizardSteps[0].classList.add('active');
            currentStep = 1;
            updateProgressBar();
            
            optionItems.forEach(item => item.classList.remove('selected'));
            userData.skinConcern = '';
            userData.sensitivity = '';
            userData.ageRange = '';
        });
        
        closeCartBtn.addEventListener('click', () => {
            cartModal.classList.remove('active');
        });
        
        closeCheckoutBtn.addEventListener('click', () => {
            checkoutModal.classList.remove('active');
            // Reset address selection
            resetAddressSelection();
        });
        
        closeSuccessBtn.addEventListener('click', () => {
            successModal.classList.remove('active');
        });
        
        closeResultsBtn.addEventListener('click', () => {
            resultsModal.classList.remove('active');
        });
        
        closeResultsBtn2.addEventListener('click', () => {
            resultsModal.classList.remove('active');
        });
        
        // Add all recommended products to cart
        addAllToCartBtn.addEventListener('click', () => {
            if (personalizedRecommendations.length === 0) {
                alert('No recommendations to add to cart');
                return;
            }
            
            personalizedRecommendations.forEach(productId => {
                const product = products.find(p => p.id === productId);
                if (product) {
                    addToCart({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        image: product.image
                    });
                }
            });
            
            // Also add the primary combo if it exists
            const logic = recommendationLogic[userData.skinConcern];
            if (logic && logic.primaryCombo) {
                const comboProduct = products.find(p => p.id === logic.primaryCombo);
                if (comboProduct) {
                    addToCart({
                        id: comboProduct.id,
                        name: comboProduct.name,
                        price: comboProduct.price,
                        image: comboProduct.image
                    });
                }
            }
            
            addAllToCartBtn.innerHTML = '<i class="fas fa-check"></i> All Added!';
            addAllToCartBtn.style.background = 'rgba(40, 167, 69, 0.3)';
            
            setTimeout(() => {
                addAllToCartBtn.innerHTML = '<i class="fas fa-shopping-cart"></i> Add All to Cart';
                addAllToCartBtn.style.background = '';
            }, 2000);
            
            // Open cart modal
            setTimeout(() => {
                resultsModal.classList.remove('active');
                cartModal.classList.add('active');
            }, 500);
        });
        
        // Enhanced Search functionality
        searchIcon.addEventListener('click', () => {
            // Check if mobile
            if (window.innerWidth <= 768) {
                // Open full screen search overlay
                searchOverlay.classList.add('active');
                searchOverlayInput.focus();
                document.body.style.overflow = 'hidden';
                
                // Show top products when search is opened
                if (!searchOverlayInput.value.trim()) {
                    displayTopSearchedProductsInOverlay();
                }
            } else {
                // Desktop behavior
                searchInput.classList.add('active');
                searchClose.classList.add('active');
                searchInput.focus();
                
                // Show top products when search is opened
                if (!searchInput.value.trim()) {
                    displayTopSearchedProducts();
                }
            }
        });
        
        searchClose.addEventListener('click', () => {
            searchInput.classList.remove('active');
            searchClose.classList.remove('active');
            searchInput.value = '';
            searchResults.classList.remove('active');
        });
        
        searchInput.addEventListener('focus', () => {
            if (!searchInput.value.trim()) {
                displayTopSearchedProducts();
            }
        });
        
        searchInput.addEventListener('input', (e) => {
            clearTimeout(searchTimeout);
            
            searchTimeout = setTimeout(() => {
                const searchTerm = e.target.value.toLowerCase().trim();
                
                if (searchTerm.length === 0) {
                    displayTopSearchedProducts();
                    return;
                }
                
                performSearch(searchTerm, searchResults);
            }, 300);
        });
        
        // Search overlay functionality
        searchBackBtn.addEventListener('click', () => {
            searchOverlay.classList.remove('active');
            searchOverlayInput.value = '';
            document.body.style.overflow = '';
        });
        
        searchOverlayInput.addEventListener('input', (e) => {
            clearTimeout(searchTimeout);
            
            searchTimeout = setTimeout(() => {
                const searchTerm = e.target.value.toLowerCase().trim();
                
                if (searchTerm.length === 0) {
                    displayTopSearchedProductsInOverlay();
                    return;
                }
                
                performSearch(searchTerm, searchOverlayResults);
            }, 300);
        });
        
        // Function to display top searched products in overlay
        function displayTopSearchedProductsInOverlay() {
            let resultsHTML = `
                <div class="top-searched-section">
                    <h5><i class="fas fa-fire"></i> Top Searched Products</h5>
                    <div class="top-searched-products">
            `;
            
            topSearchedProducts.forEach(productId => {
                const product = products.find(p => p.id === productId);
                if (product) {
                    resultsHTML += `
                        <div class="top-searched-item" data-id="${product.id}">
                            <img src="${product.image}" alt="${product.name}">
                            <div class="top-searched-info">
                                <h6>${product.name}</h6>
                                <div class="top-searched-price">R${product.price.toFixed(2)}</div>
                            </div>
                        </div>
                    `;
                }
            });
            
            resultsHTML += `
                    </div>
                </div>
                
                <div class="search-suggestions">
                    <h5><i class="fas fa-lightbulb"></i> Search by Skin Concern</h5>
                    <div class="suggestions-grid">
            `;
            
            // Add skin issue suggestions
            searchSuggestions.skinIssues.slice(0, 8).forEach(issue => {
                resultsHTML += `<span class="suggestion-tag" data-suggestion="${issue}">${issue}</span>`;
            });
            
            resultsHTML += `
                    </div>
                </div>
                
                <div class="search-suggestions">
                    <h5><i class="fas fa-star"></i> Search by Benefits</h5>
                    <div class="suggestions-grid">
            `;
            
            // Add benefit suggestions
            searchSuggestions.benefits.slice(0, 6).forEach(benefit => {
                resultsHTML += `<span class="suggestion-tag" data-suggestion="${benefit}">${benefit}</span>`;
            });
            
            resultsHTML += `
                        </div>
                    </div>
                `;
            
            searchOverlayResults.innerHTML = resultsHTML;
            
            // Add event listeners to top products and suggestions
            document.querySelectorAll('.top-searched-item').forEach(item => {
                item.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const product = products.find(p => p.id === productId);
                    
                    if (product) {
                        navigateToProduct(product);
                        searchOverlay.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });
            });
            
            document.querySelectorAll('.suggestion-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    const suggestion = this.getAttribute('data-suggestion');
                    searchOverlayInput.value = suggestion;
                    performSearch(suggestion, searchOverlayResults);
                });
            });
        }
        
        // Function to display top searched products in desktop
        function displayTopSearchedProducts() {
            let resultsHTML = `
                <div class="top-searched-section">
                    <h5><i class="fas fa-fire"></i> Top Searched Products</h5>
                    <div class="top-searched-products">
            `;
            
            topSearchedProducts.forEach(productId => {
                const product = products.find(p => p.id === productId);
                if (product) {
                    resultsHTML += `
                        <div class="top-searched-item" data-id="${product.id}">
                            <img src="${product.image}" alt="${product.name}">
                            <div class="top-searched-info">
                                <h6>${product.name}</h6>
                                <div class="top-searched-price">R${product.price.toFixed(2)}</div>
                            </div>
                        </div>
                    `;
                }
            });
            
            resultsHTML += `
                    </div>
                </div>
                
                <div class="search-suggestions">
                    <h5><i class="fas fa-lightbulb"></i> Search by Skin Concern</h5>
                    <div class="suggestions-grid">
            `;
            
            // Add skin issue suggestions
            searchSuggestions.skinIssues.slice(0, 8).forEach(issue => {
                resultsHTML += `<span class="suggestion-tag" data-suggestion="${issue}">${issue}</span>`;
            });
            
            resultsHTML += `
                    </div>
                </div>
                
                <div class="search-suggestions">
                    <h5><i class="fas fa-star"></i> Search by Benefits</h5>
                    <div class="suggestions-grid">
            `;
            
            // Add benefit suggestions
            searchSuggestions.benefits.slice(0, 6).forEach(benefit => {
                resultsHTML += `<span class="suggestion-tag" data-suggestion="${benefit}">${benefit}</span>`;
            });
            
            resultsHTML += `
                    </div>
                </div>
            `;
            
            searchResults.innerHTML = resultsHTML;
            searchResults.classList.add('active');
            
            // Add event listeners to top products and suggestions
            document.querySelectorAll('.top-searched-item').forEach(item => {
                item.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const product = products.find(p => p.id === productId);
                    
                    if (product) {
                        navigateToProduct(product);
                    }
                });
            });
            
            document.querySelectorAll('.suggestion-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    const suggestion = this.getAttribute('data-suggestion');
                    searchInput.value = suggestion;
                    performSearch(suggestion, searchResults);
                });
            });
        }
        
        // Function to perform search with predictive suggestions
        function performSearch(searchTerm, resultsContainer) {
            const filteredProducts = [];
            const suggestions = new Set();
            
            products.forEach(product => {
                let score = 0;
                let matchedFields = [];
                
                // Check product name
                if (product.name.toLowerCase().includes(searchTerm)) {
                    score += 30;
                    matchedFields.push('name');
                }
                
                // Check description
                if (product.description.toLowerCase().includes(searchTerm)) {
                    score += 20;
                    matchedFields.push('description');
                }
                
                // Check benefits
                if (product.benefits.toLowerCase().includes(searchTerm)) {
                    score += 15;
                    matchedFields.push('benefits');
                }
                
                // Check skin issues
                product.skinIssues.forEach(issue => {
                    if (issue.toLowerCase().includes(searchTerm)) {
                        score += 10;
                        matchedFields.push('skin issue: ' + issue);
                        
                        // Add similar skin issues to suggestions
                        searchSuggestions.skinIssues.forEach(si => {
                            if (si.includes(searchTerm) && si !== issue) {
                                suggestions.add(si);
                            }
                        });
                    }
                });
                
                // Check benefits list
                product.benefitsList.forEach(benefit => {
                    if (benefit.toLowerCase().includes(searchTerm)) {
                        score += 10;
                        matchedFields.push('benefit: ' + benefit);
                        
                        // Add similar benefits to suggestions
                        searchSuggestions.benefits.forEach(b => {
                            if (b.includes(searchTerm) && b !== benefit) {
                                suggestions.add(b);
                            }
                        });
                    }
                });
                
                // Check category
                if (product.category.toLowerCase().includes(searchTerm)) {
                    score += 5;
                    matchedFields.push('category');
                }
                
                if (score > 0) {
                    filteredProducts.push({
                        product: product,
                        score: score + product.searchScore, // Boost by search popularity
                        matchedFields: matchedFields
                    });
                }
            });
            
            // Sort by relevance score
            filteredProducts.sort((a, b) => b.score - a.score);
            
            // Get unique suggestions and limit to 5
            const suggestionArray = Array.from(suggestions).slice(0, 5);
            
            displaySearchResults(filteredProducts, suggestionArray, searchTerm, resultsContainer);
        }
        
        // Function to display search results with suggestions
        function displaySearchResults(filteredProducts, suggestions, searchTerm, resultsContainer) {
            if (filteredProducts.length === 0 && suggestions.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search" style="font-size: 40px; margin-bottom: 15px; opacity: 0.5;"></i>
                        <p>No products found for "${searchTerm}"</p>
                        <p style="margin-top: 10px; font-size: 14px;">Try searching for: acne, dark spots, brightening, moisturizing, oud, perfume</p>
                    </div>
                `;
                
                if (resultsContainer === searchResults) {
                    searchResults.classList.add('active');
                }
                return;
            }
            
            let resultsHTML = '';
            
            // Add suggestions if available
            if (suggestions.length > 0) {
                resultsHTML += `
                    <div class="search-suggestions">
                        <h5><i class="fas fa-lightbulb"></i> Try Searching For</h5>
                        <div class="suggestions-grid">
                `;
                
                suggestions.forEach(suggestion => {
                    resultsHTML += `<span class="suggestion-tag" data-suggestion="${suggestion}">${suggestion}</span>`;
                });
                
                resultsHTML += `
                        </div>
                    </div>
                `;
            }
            
            // Add search results
            if (filteredProducts.length > 0) {
                resultsHTML += `
                    <div class="search-results-list">
                        <h5><i class="fas fa-check-circle"></i> ${filteredProducts.length} Products Found</h5>
                `;
                
                filteredProducts.forEach((item, index) => {
                    const product = item.product;
                    const matchedFields = item.matchedFields.slice(0, 2).join(', ');
                    
                    resultsHTML += `
                        <div class="search-result-item" data-id="${product.id}">
                            <img src="${product.image}" alt="${product.name}">
                            <div class="search-result-info">
                                <h4>${product.name}</h4>
                                <p>${product.description.substring(0, 60)}...</p>
                                <div class="search-result-tags">
                                    <span class="search-result-tag">${product.category}</span>
                                    ${item.score > 100 ? '<span class="search-result-tag" style="background: rgba(255,193,7,0.2);">Popular</span>' : ''}
                                    ${product.category === 'perfume' ? '<span class="search-result-tag" style="background: rgba(196,167,125,0.2);">Amal Fragrances</span>' : ''}
                                </div>
                                <div class="search-result-price">R${product.price.toFixed(2)}</div>
                            </div>
                        </div>
                    `;
                });
                
                resultsHTML += `</div>`;
            }
            
            resultsContainer.innerHTML = resultsHTML;
            
            if (resultsContainer === searchResults) {
                searchResults.classList.add('active');
            }
            
            // Add event listeners
            resultsContainer.querySelectorAll('.search-result-item').forEach(item => {
                item.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const product = products.find(p => p.id === productId);
                    
                    if (product) {
                        navigateToProduct(product);
                        
                        // Close search overlay if open
                        if (searchOverlay.classList.contains('active')) {
                            searchOverlay.classList.remove('active');
                            document.body.style.overflow = '';
                        }
                    }
                });
            });
            
            resultsContainer.querySelectorAll('.suggestion-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    const suggestion = this.getAttribute('data-suggestion');
                    
                    if (resultsContainer === searchOverlayResults) {
                        searchOverlayInput.value = suggestion;
                        performSearch(suggestion, searchOverlayResults);
                    } else {
                        searchInput.value = suggestion;
                        performSearch(suggestion, searchResults);
                    }
                });
            });
        }
        
        // Function to navigate to product and highlight it
        function navigateToProduct(product) {
            // Close desktop search if open
            searchInput.classList.remove('active');
            searchClose.classList.remove('active');
            searchInput.value = '';
            searchResults.classList.remove('active');
            
            // Determine which section the product is in
            let targetSectionId;
            if (product.section === "products") {
                targetSectionId = "products";
            } else if (product.section === "flagship") {
                targetSectionId = "flagship";
            } else {
                targetSectionId = "all-products";
            }
            
            // Scroll to the correct section
            document.getElementById(targetSectionId).scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
            
            // Find and highlight the product
            setTimeout(() => {
                const productElement = document.querySelector(`.add-to-cart[data-id="${product.id}"]`);
                if (productElement) {
                    const productCard = productElement.closest('.product-card');
                    
                    // Scroll to the specific product card
                    productCard.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'center'
                    });
                    
                    // Highlight animation
                    productCard.style.animation = 'none';
                    void productCard.offsetWidth; // Trigger reflow
                    productCard.style.animation = 'pulse 2s';
                    
                    // Add temporary highlight
                    productCard.style.boxShadow = '0 0 0 3px var(--accent-color)';
                    productCard.style.transform = 'scale(1.02)';
                    
                    setTimeout(() => {
                        productCard.style.boxShadow = '';
                        productCard.style.transform = '';
                    }, 3000);
                }
            }, 800);
        }
        
        // Close search when clicking outside (desktop only)
        document.addEventListener('click', (e) => {
            if (window.innerWidth > 768) {
                if (!searchInput.contains(e.target) && !searchIcon.contains(e.target) && !searchResults.contains(e.target)) {
                    searchInput.classList.remove('active');
                    searchClose.classList.remove('active');
                    searchResults.classList.remove('active');
                }
            }
        });
        
        // Scroll event for navbar and fade animations
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
            
            fadeElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (elementTop < windowHeight - 100) {
                    element.classList.add('visible');
                }
            });
            
            const video = document.getElementById('background-video');
            const scrolled = window.pageYOffset;
            const rate = scrolled * -0.5;
            video.style.transform = `translate3d(0px, ${rate}px, 0px)`;
        });
        
        // Initialize fade elements on page load
        document.addEventListener('DOMContentLoaded', () => {
            fadeElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (elementTop < windowHeight - 100) {
                    element.classList.add('visible');
                }
            });
            
            updateProgressBar();
            
            if ('ontouchstart' in window) {
                document.body.classList.add('touch-device');
                
                document.querySelectorAll('.glass-button, .option-item, .product-card').forEach(element => {
                    element.style.cursor = 'pointer';
                });
            }
            
            // Add pulse animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes pulse {
                    0% { box-shadow: 0 0 0 0 rgba(196, 167, 125, 0.4); }
                    70% { box-shadow: 0 0 0 15px rgba(196, 167, 125, 0); }
                    100% { box-shadow: 0 0 0 0 rgba(196, 167, 125, 0); }
                }
            `;
            document.head.appendChild(style);
            
            // Initialize flagship product "See More" functionality
            initializeFlagshipProduct();
            
            // Initialize all add to cart buttons (including new Amal Fragrances products)
            initializeAddToCartButtons();
            
            // Initialize "See More" buttons for product details
            initializeSeeMoreButtons();
        });
        
        // Initialize all add to cart buttons
        function initializeAddToCartButtons() {
            document.querySelectorAll('.add-to-cart').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const productName = this.getAttribute('data-name');
                    const productPrice = parseFloat(this.getAttribute('data-price'));
                    const productImage = this.getAttribute('data-image');
                    
                    addToCart({
                        id: productId,
                        name: productName,
                        price: productPrice,
                        image: productImage
                    });
                    
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-check"></i> Added!';
                    this.style.background = 'rgba(40, 167, 69, 0.3)';
                    
                    setTimeout(() => {
                        this.innerHTML = originalText;
                        this.style.background = '';
                    }, 2000);
                });
            });
        }
        
        // Initialize "See More" buttons for product details
        function initializeSeeMoreButtons() {
            document.querySelectorAll('.see-more-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const target = this.getAttribute('data-target');
                    const details = this.previousElementSibling;
                    
                    if (details.classList.contains('product-details')) {
                        if (details.classList.contains('expanded')) {
                            details.classList.remove('expanded');
                            this.innerHTML = '<i class="fas fa-chevron-down"></i> See More';
                        } else {
                            details.classList.add('expanded');
                            this.innerHTML = '<i class="fas fa-chevron-up"></i> See Less';
                        }
                    }
                });
            });
        }
        
        // Flagship product "See More" functionality
        function initializeFlagshipProduct() {
            const seeMoreBtn = document.querySelector('.see-more-btn');
            const flagshipDetails = document.querySelector('.flagship-details');
            
            if (seeMoreBtn && flagshipDetails) {
                // Set initial state based on screen size
                const isMobile = window.innerWidth <= 850;
                if (isMobile) {
                    flagshipDetails.classList.add('collapsed');
                    flagshipDetails.classList.remove('expanded');
                    seeMoreBtn.innerHTML = '<i class="fas fa-chevron-down"></i> See More';
                } else {
                    flagshipDetails.classList.add('expanded');
                    flagshipDetails.classList.remove('collapsed');
                    seeMoreBtn.innerHTML = '<i class="fas fa-chevron-up"></i> See Less';
                }
                
                // Toggle functionality
                seeMoreBtn.addEventListener('click', () => {
                    const isCollapsed = flagshipDetails.classList.contains('collapsed');
                    
                    if (isCollapsed) {
                        flagshipDetails.classList.remove('collapsed');
                        flagshipDetails.classList.add('expanded');
                        seeMoreBtn.innerHTML = '<i class="fas fa-chevron-up"></i> See Less';
                    } else {
                        flagshipDetails.classList.remove('expanded');
                        flagshipDetails.classList.add('collapsed');
                        seeMoreBtn.innerHTML = '<i class="fas fa-chevron-down"></i> See More';
                    }
                });
                
                // Update on window resize
                window.addEventListener('resize', () => {
                    const isMobile = window.innerWidth <= 850;
                    
                    // Only auto-collapse on mobile, not on desktop
                    if (isMobile && flagshipDetails.classList.contains('expanded')) {
                        flagshipDetails.classList.remove('expanded');
                        flagshipDetails.classList.add('collapsed');
                        seeMoreBtn.innerHTML = '<i class="fas fa-chevron-down"></i> See More';
                    }
                });
            }
        }
        
        // NEW: Initialize vertical collections
        function initializeVerticalCollections() {
            verticalCollections.forEach(collection => {
                // Get all cards in the track
                collection.cards = Array.from(collection.track.querySelectorAll('.vertical-card'));
                
                // Calculate total width and card width
                const cardWidth = 330; // 300px card + 30px gap
                const trackWidth = collection.cards.length * cardWidth;
                collection.track.style.width = `${trackWidth}px`;
                
                // Add event listeners for navigation
                collection.prevBtn.addEventListener('click', () => {
                    if (collection.currentIndex > 0) {
                        collection.currentIndex--;
                        updateVerticalTrackPosition(collection);
                    }
                    updateNavButtons(collection);
                });
                
                collection.nextBtn.addEventListener('click', () => {
                    if (collection.currentIndex < collection.cards.length - 1) {
                        collection.currentIndex++;
                        updateVerticalTrackPosition(collection);
                    }
                    updateNavButtons(collection);
                });
                
                // Initialize button states
                updateNavButtons(collection);
                
                // Add touch/swipe support
                let startX = 0;
                let currentX = 0;
                let isDragging = false;
                
                collection.track.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                    isDragging = true;
                });
                
                collection.track.addEventListener('touchmove', (e) => {
                    if (!isDragging) return;
                    currentX = e.touches[0].clientX;
                    const diff = startX - currentX;
                    
                    // Only allow horizontal dragging
                    if (Math.abs(diff) > 10) {
                        e.preventDefault();
                    }
                });
                
                collection.track.addEventListener('touchend', (e) => {
                    if (!isDragging) return;
                    
                    const diff = startX - currentX;
                    const threshold = 50;
                    
                    if (diff > threshold && collection.currentIndex < collection.cards.length - 1) {
                        // Swipe left - go to next
                        collection.currentIndex++;
                    } else if (diff < -threshold && collection.currentIndex > 0) {
                        // Swipe right - go to previous
                        collection.currentIndex--;
                    }
                    
                    updateVerticalTrackPosition(collection);
                    updateNavButtons(collection);
                    isDragging = false;
                });
            });
        }
        
        function updateVerticalTrackPosition(collection) {
            const cardWidth = 330; // 300px card + 30px gap
            const translateX = -collection.currentIndex * cardWidth;
            collection.track.style.transform = `translateX(${translateX}px)`;
        }
        
        function updateNavButtons(collection) {
            // Update previous button
            if (collection.currentIndex === 0) {
                collection.prevBtn.classList.add('disabled');
            } else {
                collection.prevBtn.classList.remove('disabled');
            }
            
            // Update next button
            if (collection.currentIndex === collection.cards.length - 1) {
                collection.nextBtn.classList.add('disabled');
            } else {
                collection.nextBtn.classList.remove('disabled');
            }
        }
        
        // Cart functionality
        function updateCartBadge() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            
            if (totalItems > 0) {
                floatingCartBadge.textContent = totalItems;
                floatingCartBadge.style.display = 'flex';
            } else {
                floatingCartBadge.style.display = 'none';
            }
        }
        
        // Add to cart buttons
        addToCartBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const productId = parseInt(this.getAttribute('data-id'));
                const productName = this.getAttribute('data-name');
                const productPrice = parseFloat(this.getAttribute('data-price'));
                const productImage = this.getAttribute('data-image');
                
                addToCart({
                    id: productId,
                    name: productName,
                    price: productPrice,
                    image: productImage
                });
                
                const originalText = this.innerHTML;
                this.innerHTML = '<i class="fas fa-check"></i> Added!';
                this.style.background = 'rgba(40, 167, 69, 0.3)';
                
                setTimeout(() => {
                    this.innerHTML = originalText;
                    this.style.background = '';
                }, 2000);
            });
        });
        
        // Add item to cart
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            
            updateCartBadge();
            
            if (cartModal.classList.contains('active')) {
                updateCartDisplay();
            }
        }
        
        // Update cart display - CLEANER DESIGN
        function updateCartDisplay() {
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="cart-empty">
                        <i class="fas fa-shopping-bag"></i>
                        <h4>Your bag is empty</h4>
                        <p>Add some products to get started!</p>
                        <button class="glass-button" onclick="document.querySelector('#all-products').scrollIntoView({behavior: 'smooth'})">
                            <i class="fas fa-store"></i> Browse Products
                        </button>
                    </div>
                `;
                cartSummary.style.display = 'none';
                return;
            }
            
            let itemsHTML = '';
            let subtotal = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                itemsHTML += `
                    <div class="cart-item glass-card">
                        <div class="cart-item-image" style="background-image: url('${item.image}');"></div>
                        <div class="cart-item-info">
                            <h4>${item.name}</h4>
                            <div class="cart-item-price">R${item.price.toFixed(2)} each</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">
                                Total: R${itemTotal.toFixed(2)}
                            </div>
                        </div>
                        <div class="cart-item-actions">
                            <div class="quantity-control">
                                <button class="quantity-btn decrease-quantity" data-index="${index}">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <span class="quantity">${item.quantity}</span>
                                <button class="quantity-btn increase-quantity" data-index="${index}">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <button class="remove-item" data-index="${index}">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = itemsHTML;
            
            const shipping = 50.00;
            const total = subtotal + shipping;
            
            document.getElementById('cartSubtotal').textContent = `R${subtotal.toFixed(2)}`;
            document.getElementById('cartShipping').textContent = `R${shipping.toFixed(2)}`;
            document.getElementById('cartTax').textContent = `R0.00`;
            document.getElementById('cartTotal').textContent = `R${total.toFixed(2)}`;
            
            cartSummary.style.display = 'block';
            
            // Re-attach event listeners
            document.querySelectorAll('.decrease-quantity').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    updateQuantity(index, -1);
                });
            });
            
            document.querySelectorAll('.increase-quantity').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    updateQuantity(index, 1);
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    removeFromCart(index);
                });
            });
        }
        
        // Update item quantity
        function updateQuantity(index, change) {
            if (cart[index]) {
                cart[index].quantity += change;
                
                if (cart[index].quantity <= 0) {
                    cart.splice(index, 1);
                }
                
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartBadge();
                updateCartDisplay();
            }
        }
        
        // Remove item from cart
        function removeFromCart(index) {
            if (cart[index]) {
                cart.splice(index, 1);
                
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartBadge();
                updateCartDisplay();
            }
        }
        
        // Checkout functionality
        checkoutBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            
            cartModal.classList.remove('active');
            checkoutModal.classList.add('active');
            updateCheckoutStep(1);
            
            // Initialize address selection when checkout opens
            initializeAddressSelection();
        });
        
        checkoutModal.addEventListener('click', (e) => {
            if (e.target === checkoutModal) {
                checkoutModal.classList.remove('active');
                resetAddressSelection();
            }
        });
        
        // Update checkout step
        function updateCheckoutStep(step) {
            currentCheckoutStep = step;
            
            checkoutSteps.forEach(s => {
                s.classList.remove('active', 'completed');
                
                const stepNum = parseInt(s.getAttribute('data-step'));
                
                if (stepNum === step) {
                    s.classList.add('active');
                } else if (stepNum < step) {
                    s.classList.add('completed');
                }
            });
            
            checkoutForms.forEach(form => {
                form.classList.remove('active');
            });
            
            if (step === 1) {
                shippingForm.classList.add('active');
            } else if (step === 2) {
                paymentForm.classList.add('active');
            } else if (step === 3) {
                updateReviewSection();
                reviewForm.classList.add('active');
            }
        }
        
        // Checkout navigation - UPDATED FOR ADDRESS VALIDATION
        nextToPaymentBtn.addEventListener('click', () => {
            // Check if address selection is complete
            if (!validateAddressSelection()) {
                alert('Please complete the address selection process before proceeding');
                return;
            }
            
            // Validate other shipping fields
            if (!validateShippingForm()) {
                alert('Please fill in all required shipping information');
                return;
            }
            
            updateCheckoutStep(2);
        });
        
        backToShippingBtn.addEventListener('click', () => {
            updateCheckoutStep(1);
        });
        
        nextToReviewBtn.addEventListener('click', () => {
            if (selectedPaymentMethod === 'credit' && !validatePaymentForm()) {
                alert('Please fill in all required payment information');
                return;
            }
            
            updateCheckoutStep(3);
        });
        
        backToPaymentBtn2.addEventListener('click', () => {
            updateCheckoutStep(2);
        });
        
        backToCartBtn.addEventListener('click', () => {
            checkoutModal.classList.remove('active');
            cartModal.classList.add('active');
        });
        
        // Payment method selection
        paymentMethods.forEach(method => {
            method.addEventListener('click', function() {
                const methodType = this.getAttribute('data-method');
                
                paymentMethods.forEach(m => m.classList.remove('selected'));
                this.classList.add('selected');
                
                selectedPaymentMethod = methodType;
                
                const cardFields = ['cardName', 'cardNumber', 'cardExpiry', 'cardCVC'];
                cardFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    if (field) {
                        field.required = (methodType === 'credit');
                    }
                });
            });
        });
        
        // Update review section
        function updateReviewSection() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const shipping = 50.00;
            const total = subtotal + shipping;
            
            let reviewItemsHTML = '';
            cart.forEach(item => {
                reviewItemsHTML += `
                    <div class="review-item">
                        <span>${item.name}  ${item.quantity}</span>
                        <span>R${(item.price * item.quantity).toFixed(2)}</span>
                    </div>
                `;
            });
            
            document.getElementById('reviewItems').innerHTML = reviewItemsHTML;
            
            document.getElementById('reviewSubtotal').textContent = `R${subtotal.toFixed(2)}`;
            document.getElementById('reviewShipping').textContent = `R${shipping.toFixed(2)}`;
            document.getElementById('reviewTax').textContent = `R0.00`;
            document.getElementById('reviewTotal').textContent = `R${total.toFixed(2)}`;
        }
        
        // Place order
        placeOrderBtn.addEventListener('click', () => {
            if (!document.getElementById('agreeTermsCheckout').checked) {
                alert('Please agree to the Terms & Conditions');
                return;
            }
            
            // Validate address before placing order
            if (!validateAddressSelection()) {
                alert('Please complete the address selection process');
                return;
            }
            
            const orderId = Math.floor(1000 + Math.random() * 9000);
            document.getElementById('orderId').textContent = orderId;
            
            const order = {
                id: orderId,
                date: new Date().toISOString(),
                items: [...cart],
                total: parseFloat(document.getElementById('reviewTotal').textContent.replace('R', '')),
                status: 'Processing',
                shippingAddress: {
                    country: selectedCountry,
                    state: selectedState,
                    city: selectedCity,
                    village: selectedVillage,
                    zip: selectedZip,
                    street: document.getElementById('shippingAddress').value,
                    apartment: document.getElementById('shippingApartment').value
                }
            };
            
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Clear cart after successful order
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartBadge();
            
            checkoutModal.classList.remove('active');
            successModal.classList.add('active');
            
            // Reset address selection for next time
            resetAddressSelection();
        });
        
        // Continue shopping
        continueShoppingBtn.addEventListener('click', () => {
            successModal.classList.remove('active');
        });
        
        // Validation functions
        function validateShippingForm() {
            const requiredFields = [
                'shippingFirstName',
                'shippingLastName',
                'shippingEmail',
                'shippingPhone',
                'shippingAddress'
            ];
            
            for (const fieldId of requiredFields) {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    return false;
                }
            }
            
            return true;
        }
        
        function validatePaymentForm() {
            if (selectedPaymentMethod !== 'credit') {
                return true;
            }
            
            const requiredFields = [
                'cardName',
                'cardNumber',
                'cardExpiry',
                'cardCVC'
            ];
            
            for (const fieldId of requiredFields) {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    return false;
                }
            }
            
            return true;
        }
        
        // NEW: Address Selection Functions
        
        function initializeAddressSelection() {
            // Populate country options
            populateCountryOptions();
            
            // Set up event listeners for address navigation
            document.getElementById('nextAddressStep').addEventListener('click', goToNextAddressStep);
            document.getElementById('prevAddressStep').addEventListener('click', goToPrevAddressStep);
            
            // Set up ZIP code validation
            document.getElementById('shippingZip').addEventListener('input', validateZipCode);
        }
        
        function populateCountryOptions() {
            const countryOptions = document.getElementById('countryOptions');
            countryOptions.innerHTML = '';
            
            addressData.countries.forEach(country => {
                const option = document.createElement('div');
                option.className = 'address-option';
                option.innerHTML = `
                    <i class="fas fa-globe-americas"></i>
                    <p>${country.flag} ${country.name}</p>
                    <small style="color: rgba(255, 255, 255, 0.6);">${country.currency}</small>
                `;
                option.addEventListener('click', () => selectCountry(country.code));
                countryOptions.appendChild(option);
            });
        }
        
        function selectCountry(countryCode) {
            selectedCountry = countryCode;
            const country = addressData.countries.find(c => c.code === countryCode);
            
            // Update UI
            document.querySelectorAll('#countryOptions .address-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.closest('.address-option').classList.add('selected');
            
            // Update progress
            updateAddressProgress('country');
            
            // Populate states for this country
            populateStateOptions(countryCode);
            
            // Go to next step
            setTimeout(() => goToNextAddressStep(), 500);
        }
        
        function populateStateOptions(countryCode) {
            const stateOptions = document.getElementById('stateOptions');
            stateOptions.innerHTML = '';
            
            const states = addressData.states[countryCode] || [];
            
            if (states.length === 0) {
                stateOptions.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: rgba(255, 255, 255, 0.7);">
                        <i class="fas fa-exclamation-circle" style="font-size: 40px; margin-bottom: 15px;"></i>
                        <p>No states/provinces available for this country.</p>
                        <p style="margin-top: 10px; font-size: 14px;">Please proceed to the next step.</p>
                    </div>
                `;
                return;
            }
            
            states.forEach(state => {
                const option = document.createElement('div');
                option.className = 'address-option';
                option.innerHTML = `
                    <i class="fas fa-map-marker-alt"></i>
                    <p>${state}</p>
                `;
                option.addEventListener('click', () => selectState(state));
                stateOptions.appendChild(option);
            });
        }
        
        function selectState(state) {
            selectedState = state;
            
            // Update UI
            document.querySelectorAll('#stateOptions .address-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.closest('.address-option').classList.add('selected');
            
            // Update progress
            updateAddressProgress('state');
            
            // Populate cities for this state
            populateCityOptions(state);
            
            // Go to next step
            setTimeout(() => goToNextAddressStep(), 500);
        }
        
        function populateCityOptions(state) {
            const cityOptions = document.getElementById('cityOptions');
            cityOptions.innerHTML = '';
            
            const cities = addressData.cities[state] || [];
            
            if (cities.length === 0) {
                cityOptions.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: rgba(255, 255, 255, 0.7);">
                        <i class="fas fa-exclamation-circle" style="font-size: 40px; margin-bottom: 15px;"></i>
                        <p>No cities available for this state.</p>
                        <p style="margin-top: 10px; font-size: 14px;">Please proceed to the next step.</p>
                    </div>
                `;
                return;
            }
            
            cities.forEach(city => {
                const option = document.createElement('div');
                option.className = 'address-option';
                option.innerHTML = `
                    <i class="fas fa-city"></i>
                    <p>${city}</p>
                `;
                option.addEventListener('click', () => selectCity(city));
                cityOptions.appendChild(option);
            });
        }
        
        function selectCity(city) {
            selectedCity = city;
            
            // Update UI
            document.querySelectorAll('#cityOptions .address-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.closest('.address-option').classList.add('selected');
            
            // Update progress
            updateAddressProgress('city');
            
            // Populate villages for this city
            populateVillageOptions(city);
            
            // Go to next step
            setTimeout(() => goToNextAddressStep(), 500);
        }
        
        function populateVillageOptions(city) {
            const villageOptions = document.getElementById('villageOptions');
            villageOptions.innerHTML = '';
            
            const villages = addressData.villages[city] || [];
            
            if (villages.length === 0) {
                villageOptions.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: rgba(255, 255, 255, 0.7);">
                        <i class="fas fa-exclamation-circle" style="font-size: 40px; margin-bottom: 15px;"></i>
                        <p>No villages/suburbs available for this city.</p>
                        <p style="margin-top: 10px; font-size: 14px;">You can skip this step.</p>
                    </div>
                `;
                return;
            }
            
            villages.forEach(village => {
                const option = document.createElement('div');
                option.className = 'address-option';
                option.innerHTML = `
                    <i class="fas fa-home"></i>
                    <p>${village}</p>
                `;
                option.addEventListener('click', () => selectVillage(village));
                villageOptions.appendChild(option);
            });
        }
        
        function selectVillage(village) {
            selectedVillage = village;
            
            // Update UI
            document.querySelectorAll('#villageOptions .address-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.closest('.address-option').classList.add('selected');
            
            // Update progress
            updateAddressProgress('village');
            
            // Go to next step
            setTimeout(() => goToNextAddressStep(), 500);
        }
        
        function skipVillage() {
            selectedVillage = '';
            
            // Update progress
            updateAddressProgress('village');
            
            // Go to next step
            goToNextAddressStep();
        }
        
        function validateZipCode() {
            const zipInput = document.getElementById('shippingZip');
            const zipValidation = document.getElementById('zipValidation');
            selectedZip = zipInput.value.trim();
            
            if (!selectedZip) {
                zipValidation.innerHTML = '';
                return false;
            }
            
            // Simple validation - check if it matches any known zip for the selected city
            const validZips = addressData.zipCodes[selectedCity] || [];
            const isValid = validZips.some(zip => selectedZip.startsWith(zip.substring(0, 2)));
            
            if (isValid) {
                zipValidation.innerHTML = `
                    <i class="fas fa-check-circle"></i>
                    <span>Valid ZIP code for ${selectedCity}</span>
                `;
                zipValidation.className = 'zip-validation valid';
                
                // Update address confirmation
                updateAddressConfirmation();
                return true;
            } else {
                zipValidation.innerHTML = `
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>ZIP code may not match ${selectedCity}</span>
                `;
                zipValidation.className = 'zip-validation invalid';
                return false;
            }
        }
        
        function updateAddressConfirmation() {
            const addressDetails = document.getElementById('addressDetails');
            const addressConfirmation = document.getElementById('addressConfirmation');
            
            if (selectedCountry && selectedState && selectedCity && selectedZip) {
                let addressText = `
                    <strong>${selectedCity}, ${selectedState}</strong><br>
                    ${selectedCountry}<br>
                    ZIP: ${selectedZip}
                `;
                
                if (selectedVillage) {
                    addressText = `
                        <strong>${selectedVillage}, ${selectedCity}</strong><br>
                        ${selectedState}, ${selectedCountry}<br>
                        ZIP: ${selectedZip}
                    `;
                }
                
                addressDetails.innerHTML = addressText;
                addressConfirmation.style.display = 'block';
            } else {
                addressConfirmation.style.display = 'none';
            }
        }
        
        function updateAddressProgress(step) {
            // Update progress steps
            document.querySelectorAll('.address-progress-step').forEach(stepEl => {
                stepEl.classList.remove('active', 'completed');
                
                const stepName = stepEl.getAttribute('data-step');
                
                if (stepName === step) {
                    stepEl.classList.add('active');
                } else if (
                    (stepName === 'country' && selectedCountry) ||
                    (stepName === 'state' && selectedState) ||
                    (stepName === 'city' && selectedCity) ||
                    (stepName === 'village' && selectedVillage !== undefined) ||
                    (stepName === 'zip' && selectedZip)
                ) {
                    stepEl.classList.add('completed');
                }
            });
            
            // Update address confirmation
            updateAddressConfirmation();
        }
        
        function goToNextAddressStep() {
            const steps = ['country', 'state', 'city', 'village', 'zip'];
            const currentIndex = steps.indexOf(currentAddressStep);
            
            // Validate current step before proceeding
            if (!validateCurrentAddressStep()) {
                return;
            }
            
            if (currentIndex < steps.length - 1) {
                // Hide current step
                document.getElementById(`${currentAddressStep}Step`).classList.remove('active');
                
                // Update current step
                currentAddressStep = steps[currentIndex + 1];
                
                // Show next step
                document.getElementById(`${currentAddressStep}Step`).classList.add('active');
                
                // Update navigation buttons
                updateAddressNavigation();
                
                // Update progress
                updateAddressProgress(currentAddressStep);
                
                // If moving to ZIP step, trigger validation
                if (currentAddressStep === 'zip') {
                    validateZipCode();
                }
            }
        }
        
        function goToPrevAddressStep() {
            const steps = ['country', 'state', 'city', 'village', 'zip'];
            const currentIndex = steps.indexOf(currentAddressStep);
            
            if (currentIndex > 0) {
                // Hide current step
                document.getElementById(`${currentAddressStep}Step`).classList.remove('active');
                
                // Update current step
                currentAddressStep = steps[currentIndex - 1];
                
                // Show previous step
                document.getElementById(`${currentAddressStep}Step`).classList.add('active');
                
                // Update navigation buttons
                updateAddressNavigation();
            }
        }
        
        function updateAddressNavigation() {
            const prevBtn = document.getElementById('prevAddressStep');
            const nextBtn = document.getElementById('nextAddressStep');
            
            // Show/hide previous button
            if (currentAddressStep === 'country') {
                prevBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'inline-flex';
            }
            
            // Update next button text
            if (currentAddressStep === 'zip') {
                nextBtn.innerHTML = 'Complete Address Selection <i class="fas fa-check"></i>';
            } else {
                nextBtn.innerHTML = 'Next <i class="fas fa-arrow-right"></i>';
            }
        }
        
        function validateCurrentAddressStep() {
            switch (currentAddressStep) {
                case 'country':
                    if (!selectedCountry) {
                        alert('Please select a country');
                        return false;
                    }
                    break;
                case 'state':
                    if (!selectedState) {
                        // Check if country has states
                        const states = addressData.states[selectedCountry] || [];
                        if (states.length === 0) {
                            // Skip state selection if no states available
                            selectedState = 'N/A';
                            return true;
                        }
                        alert('Please select a state/province');
                        return false;
                    }
                    break;
                case 'city':
                    if (!selectedCity) {
                        alert('Please select a city/town');
                        return false;
                    }
                    break;
                case 'village':
                    // Village is optional, so always valid
                    break;
                case 'zip':
                    if (!validateZipCode()) {
                        alert('Please enter a valid ZIP code');
                        return false;
                    }
                    break;
            }
            return true;
        }
        
        function validateAddressSelection() {
            return selectedCountry && selectedState && selectedCity && selectedZip;
        }
        
        function resetAddressSelection() {
            currentAddressStep = 'country';
            selectedCountry = '';
            selectedState = '';
            selectedCity = '';
            selectedVillage = '';
            selectedZip = '';
            
            // Reset UI
            document.querySelectorAll('.address-step').forEach(step => {
                step.classList.remove('active');
            });
            document.getElementById('countryStep').classList.add('active');
            
            document.querySelectorAll('.address-progress-step').forEach(step => {
                step.classList.remove('active', 'completed');
            });
            document.querySelector('[data-step="country"]').classList.add('active');
            
            document.querySelectorAll('.address-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            document.getElementById('shippingZip').value = '';
            document.getElementById('zipValidation').innerHTML = '';
            document.getElementById('addressConfirmation').style.display = 'none';
            
            updateAddressNavigation();
        }
        
        // Search functions for address selection
        function searchStates() {
            const searchTerm = document.getElementById('stateSearch').value.toLowerCase();
            const states = addressData.states[selectedCountry] || [];
            const filteredStates = states.filter(state => 
                state.toLowerCase().includes(searchTerm)
            );
            
            const stateOptions = document.getElementById('stateOptions');
            stateOptions.innerHTML = '';
            
            if (filteredStates.length === 0) {
                stateOptions.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: rgba(255, 255, 255, 0.7);">
                        <i class="fas fa-search" style="font-size: 40px; margin-bottom: 15px;"></i>
                        <p>No states found for "${searchTerm}"</p>
                    </div>
                `;
                return;
            }
            
            filteredStates.forEach(state => {
                const option = document.createElement('div');
                option.className = 'address-option';
                option.innerHTML = `
                    <i class="fas fa-map-marker-alt"></i>
                    <p>${state}</p>
                `;
                option.addEventListener('click', () => selectState(state));
                stateOptions.appendChild(option);
            });
        }
        
        function searchCities() {
            const searchTerm = document.getElementById('citySearch').value.toLowerCase();
            const cities = addressData.cities[selectedState] || [];
            const filteredCities = cities.filter(city => 
                city.toLowerCase().includes(searchTerm)
            );
            
            const cityOptions = document.getElementById('cityOptions');
            cityOptions.innerHTML = '';
            
            if (filteredCities.length === 0) {
                cityOptions.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: rgba(255, 255, 255, 0.7);">
                        <i class="fas fa-search" style="font-size: 40px; margin-bottom: 15px;"></i>
                        <p>No cities found for "${searchTerm}"</p>
                    </div>
                `;
                return;
            }
            
            filteredCities.forEach(city => {
                const option = document.createElement('div');
                option.className = 'address-option';
                option.innerHTML = `
                    <i class="fas fa-city"></i>
                    <p>${city}</p>
                `;
                option.addEventListener('click', () => selectCity(city));
                cityOptions.appendChild(option);
            });
        }
        
        function searchVillages() {
            const searchTerm = document.getElementById('villageSearch').value.toLowerCase();
            const villages = addressData.villages[selectedCity] || [];
            const filteredVillages = villages.filter(village => 
                village.toLowerCase().includes(searchTerm)
            );
            
            const villageOptions = document.getElementById('villageOptions');
            villageOptions.innerHTML = '';
            
            if (filteredVillages.length === 0) {
                villageOptions.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: rgba(255, 255, 255, 0.7);">
                        <i class="fas fa-search" style="font-size: 40px; margin-bottom: 15px;"></i>
                        <p>No villages found for "${searchTerm}"</p>
                    </div>
                `;
                return;
            }
            
            filteredVillages.forEach(village => {
                const option = document.createElement('div');
                option.className = 'address-option';
                option.innerHTML = `
                    <i class="fas fa-home"></i>
                    <p>${village}</p>
                `;
                option.addEventListener('click', () => selectVillage(village));
                villageOptions.appendChild(option);
            });
        }
        
        // Start qualification wizard
        startQualificationBtn.addEventListener('click', () => {
            document.getElementById('qualification').scrollIntoView({ behavior: 'smooth' });
        });
        
        // Option selection in wizard
        optionItems.forEach(item => {
            item.addEventListener('click', function() {
                const parentStep = this.closest('.wizard-step');
                const allOptions = parentStep.querySelectorAll('.option-item');
                allOptions.forEach(opt => opt.classList.remove('selected'));
                
                this.classList.add('selected');
                
                const stepId = parentStep.id;
                const value = this.getAttribute('data-value');
                
                if (stepId === 'step1') {
                    userData.skinConcern = value;
                } else if (stepId === 'step2') {
                    userData.sensitivity = value;
                } else if (stepId === 'step3') {
                    userData.ageRange = value;
                }
            });
        });
        
        // Wizard navigation
        wizardNextBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const step = parseInt(this.getAttribute('data-step'));
                
                if (step === 1 && !userData.skinConcern) {
                    alert('Please select your primary skin concern');
                    return;
                } else if (step === 2 && !userData.sensitivity) {
                    alert('Please select your skin sensitivity level');
                    return;
                } else if (step === 3 && !userData.ageRange) {
                    alert('Please select your age range');
                    return;
                }
                
                if (step === 3) {
                    // This is the last step - generate and show recommendations
                    generatePersonalizedRecommendations();
                    return;
                }
                
                if (currentStep < totalSteps) {
                    wizardSteps[currentStep - 1].classList.remove('active');
                    currentStep++;
                    wizardSteps[currentStep - 1].classList.add('active');
                    updateProgressBar();
                }
            });
        });
        
        wizardPrevBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                if (currentStep > 1) {
                    wizardSteps[currentStep - 1].classList.remove('active');
                    currentStep--;
                    wizardSteps[currentStep - 1].classList.add('active');
                    updateProgressBar();
                }
            });
        });
        
        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
            progressBar.style.width = `${progress}%`;
        }
        
        // Generate personalized recommendations based on user data
        function generatePersonalizedRecommendations() {
            const logic = recommendationLogic[userData.skinConcern];
            
            if (!logic) {
                // Fallback to default recommendation
                personalizedRecommendations = [1, 14]; // Whitening Oil and Whitening Combo
                showResults("Based on your skin profile, we recommend our best-selling Whitening Combo to address your concerns and deliver radiant results.", [1, 14]);
                return;
            }
            
            personalizedRecommendations = [...logic.products];
            
            // Adjust recommendations based on sensitivity
            if (userData.sensitivity === 'very-sensitive' || userData.sensitivity === 'sensitive') {
                // Remove potentially harsh products for sensitive skin
                personalizedRecommendations = personalizedRecommendations.filter(id => id !== 3 && id !== 5); // Remove Kojic Soap and Whitening Soap
                
                // Add gentle alternatives
                if (userData.skinConcern === 'acne') {
                    personalizedRecommendations.push(4); // Extra Glow Lotion for gentle hydration
                }
            }
            
            // Adjust recommendations based on age
            if (userData.ageRange === '50-plus' || userData.ageRange === '36-50') {
                // Add anti-aging products for mature skin
                if (!personalizedRecommendations.includes(1)) {
                    personalizedRecommendations.push(1); // Whitening Oil for anti-aging benefits
                }
                if (!personalizedRecommendations.includes(2)) {
                    personalizedRecommendations.push(2); // Whitening Cream for anti-aging
                }
            }
            
            // Show results with personalized description
            let description = logic.description + " " + logic.explanation;
            
            // Add sensitivity note if applicable
            if (userData.sensitivity === 'very-sensitive' || userData.sensitivity === 'sensitive') {
                description += " We've selected gentle formulas suitable for sensitive skin.";
            }
            
            // Add age-specific note if applicable
            if (userData.ageRange === '50-plus') {
                description += " These products are specially chosen for mature skin needs.";
            } else if (userData.ageRange === '36-50') {
                description += " These formulas address both your primary concern and early signs of aging.";
            }
            
            showResults(description, personalizedRecommendations, logic.primaryCombo);
        }
        
        // Show results modal with personalized recommendations - UPDATED to use product cards
        function showResults(description, productIds, primaryComboId = null) {
            // Update result description
            document.getElementById('resultDescription').textContent = description;
            
            // Clear previous products
            const personalizedProductsDiv = document.getElementById('personalizedProducts');
            personalizedProductsDiv.innerHTML = '';
            
            // Add individual products as product cards
            productIds.forEach(productId => {
                const product = products.find(p => p.id === productId);
                if (product) {
                    let detailsHTML = '';
                    if (product.benefits || product.usage || product.ingredients) {
                        detailsHTML = `
                            <div class="product-details">
                                ${product.benefits ? `<div class="product-benefits"><strong>Benefits:</strong> ${product.benefits}</div>` : ''}
                                ${product.usage ? `<div class="product-usage"><strong>Usage:</strong> ${product.usage}</div>` : ''}
                                ${product.ingredients ? `<div class="product-ingredients"><strong>Active Ingredients:</strong> ${product.ingredients}</div>` : ''}
                            </div>
                        `;
                    }
                    
                    const productHTML = `
                        <div class="product-card glass-card">
                            ${product.section === "flagship" ? '<div class="product-badge badge-flagship">Flagship</div>' : ''}
                            <div class="product-image" style="background-image: url('${product.image}');"></div>
                            <div class="product-info">
                                <h3>${product.name}</h3>
                                <p>${product.description.substring(0, 100)}...</p>
                                ${detailsHTML}
                                <button class="see-more-btn" data-target="result-${product.id}">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R${product.price.toFixed(2)}</div>
                            </div>
                            <button class="glass-button add-to-cart-btn" 
                                data-id="${product.id}" 
                                data-name="${product.name}" 
                                data-price="${product.price}" 
                                data-image="${product.image}">
                                <i class="fas fa-cart-plus"></i> Add to Cart
                            </button>
                        </div>
                    `;
                    personalizedProductsDiv.innerHTML += productHTML;
                }
            });
            
            // Add primary combo if it exists
            if (primaryComboId) {
                const comboProduct = products.find(p => p.id === primaryComboId);
                if (comboProduct) {
                    let comboDetailsHTML = '';
                    if (comboProduct.benefits || comboProduct.usage || comboProduct.ingredients) {
                        comboDetailsHTML = `
                            <div class="product-details">
                                ${comboProduct.benefits ? `<div class="product-benefits"><strong>Benefits:</strong> ${comboProduct.benefits}</div>` : ''}
                                ${comboProduct.usage ? `<div class="product-usage"><strong>Usage:</strong> ${comboProduct.usage}</div>` : ''}
                                ${comboProduct.ingredients ? `<div class="product-ingredients"><strong>Contains:</strong> ${comboProduct.ingredients}</div>` : ''}
                            </div>
                        `;
                    }
                    
                    const comboHTML = `
                        <div class="product-card glass-card combo-card">
                            <div class="product-badge badge-recommended">Recommended Combo</div>
                            <div class="product-image" style="background-image: url('${comboProduct.image}');"></div>
                            <div class="product-info">
                                <h3>${comboProduct.name}</h3>
                                <p>${comboProduct.description.substring(0, 100)}...</p>
                                ${comboDetailsHTML}
                                <button class="see-more-btn" data-target="result-${comboProduct.id}">
                                    <i class="fas fa-chevron-down"></i> See More
                                </button>
                                <div class="product-price">R${comboProduct.price.toFixed(2)}</div>
                            </div>
                            <button class="glass-button add-to-cart-btn" 
                                data-id="${comboProduct.id}" 
                                data-name="${comboProduct.name}" 
                                data-price="${comboProduct.price}" 
                                data-image="${comboProduct.image}"
                                style="background: rgba(196, 167, 125, 0.3);">
                                <i class="fas fa-star"></i> Add Combo
                            </button>
                        </div>
                    `;
                    personalizedProductsDiv.innerHTML += comboHTML;
                    
                    // Add combo to personalized recommendations
                    if (!personalizedRecommendations.includes(primaryComboId)) {
                        personalizedRecommendations.push(primaryComboId);
                    }
                }
            }
            
            // Re-attach add to cart event listeners for the new buttons
            personalizedProductsDiv.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const productName = this.getAttribute('data-name');
                    const productPrice = parseFloat(this.getAttribute('data-price'));
                    const productImage = this.getAttribute('data-image');
                    
                    addToCart({
                        id: productId,
                        name: productName,
                        price: productPrice,
                        image: productImage
                    });
                    
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-check"></i> Added!';
                    this.style.background = 'rgba(40, 167, 69, 0.3)';
                    
                    setTimeout(() => {
                        this.innerHTML = originalText;
                        this.style.background = '';
                    }, 2000);
                });
            });
            
            // Re-attach see more buttons
            initializeSeeMoreButtons();
            
            // Show the results modal
            resultsModal.classList.add('active');
            
            // Scroll to results modal
            setTimeout(() => {
                resultsModal.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        }
        
        // Gallery navigation
        galleryDots.forEach(dot => {
            dot.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                goToGallerySlide(index);
            });
        });
        
        function goToGallerySlide(index) {
            currentGallerySlide = index;
            const translateX = -index * 325;
            
            galleryTrack.style.transform = `translateX(${translateX}px)`;
            
            galleryDots.forEach((dot, i) => {
                if (i === index) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        // Auto-rotate gallery
        setInterval(() => {
            currentGallerySlide = (currentGallerySlide + 1) % gallerySlideCount;
            goToGallerySlide(currentGallerySlide);
        }, 5000);
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    
                    closeMobileMenu();
                }
            });
        });
        
        // Newsletter form
        const newsletterForm = document.querySelector('.newsletter-form');
        const newsletterInput = newsletterForm.querySelector('input');
        const newsletterButton = newsletterForm.querySelector('button');
        
        newsletterButton.addEventListener('click', () => {
            if (newsletterInput.value && newsletterInput.value.includes('@')) {
                newsletterButton.innerHTML = '<i class="fas fa-check"></i> Subscribed!';
                newsletterButton.style.background = 'rgba(40, 167, 69, 0.3)';
                newsletterInput.value = '';
                
                setTimeout(() => {
                    newsletterButton.innerHTML = 'Subscribe';
                    newsletterButton.style.background = '';
                }, 3000);
            } else {
                newsletterInput.style.border = '1px solid rgba(220, 53, 69, 0.5)';
                setTimeout(() => {
                    newsletterInput.style.border = '';
                }, 2000);
            }
        });
    </script>
</body>
</html>